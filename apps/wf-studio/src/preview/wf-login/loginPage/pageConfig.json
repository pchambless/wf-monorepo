{
  "layout": "flex",
  "components": [
    {
      "id": "LoginForm",
      "type": "form",
      "container": "inline",
      "position": {"row": {"start": 1, "span": 1}, "col": {"start": 1, "span": 1}},
      "props": {"layout": "vertical"},
      "style": {
        "padding": "24px",
        "boxShadow": "0 4px 12px rgba(0,0,0,0.1)",
        "borderRadius": "8px"
      },
      "components": [
        {
          "id": "LoginForm_title",
          "type": "h3",
          "textContent": "Login to WhatsFresh",
          "style": {"marginTop": 0}
        },
        {
          "id": "LoginForm_field_userEmail",
          "type": "div",
          "style": {"marginBottom": "16px"},
          "components": [
            {
              "id": "LoginForm_label_userEmail",
              "type": "label",
              "textContent": "Email Address*",
              "props": {"htmlFor": "userEmail"},
              "style": {"display": "block", "marginBottom": "4px", "fontWeight": "500"}
            },
            {
              "id": "LoginForm_input_userEmail",
              "type": "input",
              "props": {
                "name": "userEmail",
                "type": "email",
                "placeholder": "Enter your email",
                "required": true
              },
              "style": {
                "width": "100%",
                "padding": "8px 12px",
                "border": "1px solid #ccc",
                "borderRadius": "4px",
                "fontSize": "14px"
              }
            }
          ]
        },
        {
          "id": "LoginForm_field_enteredPassword",
          "type": "div",
          "style": {"marginBottom": "16px"},
          "components": [
            {
              "id": "LoginForm_label_enteredPassword",
              "type": "label",
              "textContent": "Password*",
              "props": {"htmlFor": "enteredPassword"},
              "style": {"display": "block", "marginBottom": "4px", "fontWeight": "500"}
            },
            {
              "id": "LoginForm_input_enteredPassword",
              "type": "input",
              "props": {
                "name": "enteredPassword",
                "type": "password",
                "placeholder": "Enter your password",
                "required": true
              },
              "style": {
                "width": "100%",
                "padding": "8px 12px",
                "border": "1px solid #ccc",
                "borderRadius": "4px",
                "fontSize": "14px"
              }
            }
          ]
        },
        {
          "id": "loginSubmit",
          "type": "button",
          "container": "inline",
          "position": {"row": {"start": 2, "span": 1}, "col": {"start": 1, "span": 1}},
          "props": {"label": "Login"},
          "style": {
            "display": "inline-flex",
            "alignItems": "center",
            "justifyContent": "center",
            "padding": "8px 16px",
            "border": "none",
            "borderRadius": "4px",
            "backgroundColor": "#1976d2",
            "color": "white",
            "fontSize": "14px",
            "fontWeight": "500",
            "cursor": "pointer",
            "transition": "background-color 0.2s ease"
          },
          "workflowTriggers": {
            "onClick": [
              {
                "ordr": 1,
                "action": "userLogin",
                "content": "{\"url\": \"/api/auth/login\", \r\n\"body\": {\r\n\t\"userEmail\": \"{{form.userEmail.value}}\", \r\n\t\"password\": \"{{form.enteredPassword.value}}\"\r\n\t}\r\n}"
              }
            ],
            "onSuccess": [
              {
                "ordr": 2,
                "action": "setVals",
                "content": "{\r\n  userID,{{response.user.id}},\r\n  userEmail,{{response.user.email}},\r\n  firstName,{{response.user.firstName}},\r\n  userName,{{response.user.name}},\r\n  userRole,{{response.user.role}},\r\n  acctID,{{response.user.dfltAcctID}}\r\n}"
              },
              {"ordr": 3, "action": "refresh", "content": "['selectLoginApp']"},
              {
                "ordr": 4,
                "action": "visible",
                "content": "{\r\n\t\"comp_name\": \"selectLoginApp\", \r\n\t\"value\": true\r\n}"
              }
            ]
          }
        },
        {
          "id": "selectLoginApp",
          "type": "grid",
          "container": "inline",
          "position": {"row": {"start": 3, "span": 1}, "col": {"start": 1, "span": 1}},
          "props": {"rowKey": "comp_name", "selectable": true},
          "style": {
            "display": "block",
            "width": "100%",
            "border": "1px solid #e0e0e0",
            "borderRadius": "4px",
            "backgroundColor": "#ffffff",
            "overflow": "auto"
          },
          "workflowTriggers": {
            "onChange": [
              {"ordr": 2, "action": "setVals", "content": "appID,{{this.value}}"},
              {"ordr": 3, "action": "setVals", "content": "appName,{{selected.app_name}}"},
              {"ordr": 4, "action": "navigate", "content": "{{selected.routePath}}"}
            ],
            "onRefresh": [{"ordr": 1, "action": "execEvent", "content": "5"}]
          },
          "components": [
            {
              "id": "selectLoginApp_title",
              "type": "h2",
              "textContent": "Select Application",
              "style": {"marginTop": 0, "marginBottom": "16px"}
            },
            {
              "id": "selectLoginApp_table",
              "type": "table",
              "style": {
                "width": "100%",
                "borderCollapse": "collapse",
                "border": "1px solid #e0e0e0"
              },
              "components": [
                {
                  "id": "selectLoginApp_thead",
                  "type": "thead",
                  "style": {"backgroundColor": "#f5f5f5"},
                  "components": [
                    {
                      "id": "selectLoginApp_headerRow",
                      "type": "tr",
                      "components": [
                        {
                          "id": "selectLoginApp_header_comp_name",
                          "type": "th",
                          "textContent": "Application",
                          "style": {
                            "padding": "12px 8px",
                            "textAlign": "left",
                            "borderBottom": "1px solid #e0e0e0",
                            "fontWeight": "600",
                            "width": "200px"
                          }
                        },
                        {
                          "id": "selectLoginApp_header_routePath",
                          "type": "th",
                          "textContent": "Route",
                          "style": {
                            "padding": "12px 8px",
                            "textAlign": "left",
                            "borderBottom": "1px solid #e0e0e0",
                            "fontWeight": "600",
                            "width": "150px"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "selectLoginApp_tbody",
                  "type": "tbody",
                  "props": {
                    "dataSource": "authAppList",
                    "rowKey": "comp_name",
                    "selectable": true,
                    "columns": [
                      {
                        "field": "comp_name",
                        "header": "Application",
                        "width": "200px",
                        "align": "left"
                      },
                      {"field": "routePath", "header": "Route", "width": "150px", "align": "left"}
                    ]
                  },
                  "components": [
                    {
                      "id": "selectLoginApp_placeholderRow",
                      "type": "tr",
                      "style": {"backgroundColor": "#fafafa"},
                      "components": [
                        {
                          "id": "selectLoginApp_placeholder_comp_name",
                          "type": "td",
                          "textContent": "{comp_name}",
                          "style": {
                            "padding": "8px",
                            "borderBottom": "1px solid #e0e0e0",
                            "cursor": "pointer"
                          }
                        },
                        {
                          "id": "selectLoginApp_placeholder_routePath",
                          "type": "td",
                          "textContent": "{routePath}",
                          "style": {
                            "padding": "8px",
                            "borderBottom": "1px solid #e0e0e0",
                            "cursor": "pointer"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "title": "loginPage",
  "routePath": "/wf-login/loginPage",
  "purpose": "Database-generated page configuration",
  "cluster": "Page"
}