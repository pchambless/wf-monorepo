{
  "layout": "flex",
  "components": [
    {
      "id": "loginPage",
      "type": "page",
      "container": "inline",
      "position": {},
      "props": {},
      "style": {
        "display": "flex",
        "flexDirection": "column",
        "width": "100%",
        "height": "100%",
        "padding": "16px",
        "backgroundColor": "#ffffff",
        "overflow": "auto"
      },
      "components": [
        {
          "id": "LoginForm",
          "type": "form",
          "container": "inline",
          "position": {"row": {"start": 1, "span": 1}, "col": {"start": 1, "span": 1}},
          "props": {
            "title": "Login to WhatsFresh",
            "fields": [
              {
                "name": "userEmail",
                "type": "email",
                "label": "Email Address",
                "required": true,
                "placeholder": "Enter your email"
              },
              {
                "name": "enteredPassword",
                "type": "password",
                "label": "Password",
                "required": true,
                "placeholder": "Enter your password"
              }
            ],
            "layout": "vertical"
          },
          "style": {
            "padding": "24px",
            "boxShadow": "0 4px 12px rgba(0,0,0,0.1)",
            "borderRadius": "8px"
          },
          "components": [
            {
              "id": "loginSubmit",
              "type": "button",
              "container": "inline",
              "position": {"row": {"start": 2, "span": 1}, "col": {"start": 1, "span": 1}},
              "props": {
                "label": "Login",
                "workflowTriggers": {
                  "onSubmit": [
                    {
                      "action": "httpPost",
                      "ordr": 1,
                      "content": "{\"url\": \"/api/auth/login\", \r\n\"body\": {\r\n\t\"userEmail\": \"{{form.userEmail.value}}\", \r\n\t\"password\": \"{{form.enteredPassword.value}}\"\r\n\t}\r\n}"
                    }
                  ],
                  "onSuccess": [
                    {"action": "setVals", "ordr": 1, "content": "userID,{{response.user.id}}"},
                    {
                      "action": "setVals",
                      "ordr": 2,
                      "content": "userEmail,{{response.user.email}}"
                    },
                    {
                      "action": "setVals",
                      "ordr": 3,
                      "content": "firstName,{{response.user.firstName}}"
                    },
                    {"action": "setVals", "ordr": 4, "content": "userName,{{response.user.name}}"},
                    {"action": "setVals", "ordr": 5, "content": "userRole,{{response.user.role}}"},
                    {
                      "action": "setVals",
                      "ordr": 6,
                      "content": "acctID,{{response.user.dfltAcctID}}"
                    },
                    {"action": "showComponent", "ordr": 7, "content": "selectLoginApp"}
                  ]
                }
              },
              "style": {
                "display": "inline-flex",
                "alignItems": "center",
                "justifyContent": "center",
                "padding": "8px 16px",
                "border": "none",
                "borderRadius": "4px",
                "backgroundColor": "#1976d2",
                "color": "white",
                "fontSize": "14px",
                "fontWeight": "500",
                "cursor": "pointer",
                "transition": "background-color 0.2s ease"
              }
            },
            {
              "id": "selectLoginApp",
              "type": "select",
              "container": "inline",
              "position": {"row": {"start": 3, "span": 1}, "col": {"start": 1, "span": 1}},
              "props": {
                "workflowTriggers": {
                  "onChange": [
                    {"action": "setVals", "ordr": 1, "content": "appID,{{this.value}}"},
                    {"action": "setVals", "ordr": 1, "content": "appName,{{selected.app_name}}"},
                    {"action": "navigate", "ordr": 2, "content": "{{selected.routePath}}"}
                  ]
                }
              },
              "style": {
                "display": "inline-block",
                "position": "relative",
                "width": "200px",
                "border": "1px solid #ccc",
                "borderRadius": "4px",
                "backgroundColor": "white",
                "fontSize": "14px",
                "cursor": "pointer"
              }
            }
          ]
        }
      ]
    }
  ],
  "title": "wf-login",
  "routePath": "/studio",
  "purpose": "Database-generated page configuration",
  "cluster": "Page"
}