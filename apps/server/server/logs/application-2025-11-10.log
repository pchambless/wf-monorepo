{"level":"info","message":"[app.js]  Application initialized","timestamp":"2025-11-10 06:47:54"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"fatal":true,"level":"error","message":"[dbManager.js] Database connection test failed: connect ECONNREFUSED 127.0.0.1:3306","port":3306,"stack":"Error: connect ECONNREFUSED 127.0.0.1:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-11-10 06:47:54"}
{"level":"info","message":"[app.js]  Application initialized","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[dbManager.js] Database connection test successful","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[server.js] Initializing routes","timestamp":"2025-11-10 06:58:53"}
{"level":"debug","message":"[index.js]  Initializing routes","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[registerRoutes.js] Started registering routes","timestamp":"2025-11-10 06:58:53"}
{"0":"POST /api/execEventType","1":"GET /api/eventType/:xrefId","10":"POST /api/clearVals","11":"POST /api/logImpact","12":"GET /api/impacts/recent","13":"GET /api/impacts/batch/:batchId","14":"POST /api/cloneStep","15":"GET /api/studio/genPageConfig","16":"POST /api/genPageConfig","17":"POST /api/initialize","18":"GET /api/util/list-routes","19":"POST /api/util/restart-server","2":"GET /api/eventTypes","20":"POST /api/util/run-migration","21":"GET /api/util/migration-status","22":"POST /api/util/open-terminal","23":"POST /api/auth/login","24":"GET /api/github/labels","25":"GET /api/github/issues","26":"POST /api/github/issues","27":"GET /api/github/issues/:issue_number/comments","28":"POST /api/github/upload-image","3":"GET /api/triggers","4":"POST /api/execDML","5":"POST /api/execCreateDoc","6":"GET /api/getDoc","7":"POST /api/studio/genFields","8":"GET /api/getVal","9":"POST /api/setVals","level":"info","message":"[registerRoutes.js] Routes registered:","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[registerRoutes.js] Routes setup complete","timestamp":"2025-11-10 06:58:53"}
{"level":"debug","message":"[index.js]  Routes initialized","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[server.js] Routes initialized","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[server.js] Starting server on port 3001","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[server.js] Server timeouts configured: keepAlive=5s, headers=6s","timestamp":"2025-11-10 06:58:53"}
{"level":"info","message":"[server.js] Server is running on http://localhost:3001","timestamp":"2025-11-10 06:58:53"}
{"body":{"eventSQLId":"AI-startSession"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 06:59:17"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-startSession","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:17"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 06:59:17"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":576.045327,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-startSession (ID: 39)","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT message\nfrom api_wf.plan_communications\nwhere id = 73\nLIMIT 1","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:17"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:17"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 06:59:18"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":275.713231,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 06:59:18"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:18"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-startSession (ID: 39)","timestamp":"2025-11-10 06:59:18"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (860ms)","timestamp":"2025-11-10 06:59:18"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":859.833883,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 06:59:18"}
{"body":{"eventSQLId":"AI-RecentList"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 06:59:34"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-RecentList","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":226.178108,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-RecentList (ID: 30)","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT *\r\nFROM api_wf.vw_plan_composite vpc\r\nWHERE plan_id IN (\r\n    SELECT id\r\n    FROM (\r\n        SELECT id\r\n        FROM api_wf.plans\r\n        ORDER BY id DESC\r\n        LIMIT 4\r\n    ) AS limited_plans\r\n);","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 16","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":278.249529,"method":"GET","operation":"database_query","rowCount":16,"success":true},"timestamp":"2025-11-10 06:59:34"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-RecentList (ID: 30)","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (510ms)","timestamp":"2025-11-10 06:59:34"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":509.603424,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 06:59:34"}
{"body":{"eventSQLId":"AI-ImpactList"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 06:59:40"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 06:59:40"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-ImpactList","timestamp":"2025-11-10 06:59:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 06:59:41"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":254.320924,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 06:59:41"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:41"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (258ms)","timestamp":"2025-11-10 06:59:41"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":257.551279,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 06:59:41"}
{"body":{"eventSQLId":"AI-Plan45"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 06:59:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-Plan45","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":198.388371,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-Plan45 (ID: 31)","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select * \r\nfrom api_wf.vw_plan45\r\nlimit 30","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 26","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":313.963298,"method":"GET","operation":"database_query","rowCount":26,"success":true},"timestamp":"2025-11-10 06:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-Plan45 (ID: 31)","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (518ms)","timestamp":"2025-11-10 06:59:47"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":517.573352,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 06:59:47"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/status/database","timestamp":"2025-11-10 07:10:26"}
{"level":"info","message":"[app.js]  Response: GET /api/status/database 200 (1ms)","timestamp":"2025-11-10 07:10:26"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-10 07:13:53"}
{"body":{"eventSQLId":"AI-startSession"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 07:25:35"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-startSession","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":146.046089,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-startSession (ID: 39)","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT message\nfrom api_wf.plan_communications\nwhere id = 73\nLIMIT 1","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":36.529011,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 07:25:35"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-startSession (ID: 39)","timestamp":"2025-11-10 07:25:35"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (184ms)","timestamp":"2025-11-10 07:25:35"}
{"body":{"eventSQLId":"AI-RecentList"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 07:25:43"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 07:25:43"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-RecentList","timestamp":"2025-11-10 07:25:43"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:43"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:43"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 07:25:44"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":177.132032,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-RecentList (ID: 30)","timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT *\r\nFROM api_wf.vw_plan_composite vpc\r\nWHERE plan_id IN (\r\n    SELECT id\r\n    FROM (\r\n        SELECT id\r\n        FROM api_wf.plans\r\n        ORDER BY id DESC\r\n        LIMIT 4\r\n    ) AS limited_plans\r\n);","timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:44"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 16","timestamp":"2025-11-10 07:25:44"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":81.50672,"method":"GET","operation":"database_query","rowCount":16,"success":true},"timestamp":"2025-11-10 07:25:44"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:44"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-RecentList (ID: 30)","timestamp":"2025-11-10 07:25:44"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (261ms)","timestamp":"2025-11-10 07:25:44"}
{"body":{"eventSQLId":"AI-ImpactList"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 07:25:49"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 07:25:49"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-ImpactList","timestamp":"2025-11-10 07:25:49"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:49"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 07:25:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":169.505252,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 07:25:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:49"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (171ms)","timestamp":"2025-11-10 07:25:49"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":171.097363,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 07:25:49"}
{"body":{"eventSQLId":"AI-Plan45"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 07:25:52"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-Plan45","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":46.840018,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-Plan45 (ID: 31)","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select * \r\nfrom api_wf.vw_plan45\r\nlimit 30","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 26","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":206.695258,"method":"GET","operation":"database_query","rowCount":26,"success":true},"timestamp":"2025-11-10 07:25:52"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-Plan45 (ID: 31)","timestamp":"2025-11-10 07:25:52"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (259ms)","timestamp":"2025-11-10 07:25:52"}
{"body":{"contextKey":"appName","userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/getVal","timestamp":"2025-11-10 08:09:11"}
{"level":"warn","message":"[server.js] Route not found: POST /api/getVal","timestamp":"2025-11-10 08:09:11"}
{"level":"info","message":"[app.js]  Response: POST /api/getVal 404 (2ms)","timestamp":"2025-11-10 08:09:11"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.655051,"method":"POST","operation":"http_request","path":"/api/getVal","status":404},"timestamp":"2025-11-10 08:09:11"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/getVal","query":{"contextKey":"appName"},"timestamp":"2025-11-10 08:09:41"}
{"level":"http","message":"[getVal.js] GET /api/getVal?contextKey=appName","timestamp":"2025-11-10 08:09:41"}
{"level":"info","message":"[app.js]  Response: GET /api/getVal 400 (2ms)","timestamp":"2025-11-10 08:09:41"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.938039,"method":"GET","operation":"http_request","path":"/api/getVal","status":400},"timestamp":"2025-11-10 08:09:41"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/getVal","query":{"paramName":"appName"},"timestamp":"2025-11-10 08:09:54"}
{"level":"http","message":"[getVal.js] GET /api/getVal?paramName=appName","timestamp":"2025-11-10 08:09:54"}
{"level":"error","message":"[getVal.js] Error in getVal controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/projects/github/wf-monorepo/apps/server/server/utils/getUserEmail.js:19:11)\n    at getVal (file:///home/paul/projects/github/wf-monorepo/apps/server/server/controller/getVal.js:55:23)\n    at Layer.handleRequest (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/projects/github/wf-monorepo/node_modules/router/index.js:295:15\n    at processParams (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:582:12)\n    at next (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:291:5)","timestamp":"2025-11-10 08:09:54"}
{"level":"info","message":"[app.js]  Response: GET /api/getVal 500 (2ms)","timestamp":"2025-11-10 08:09:54"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2.43547,"method":"GET","operation":"http_request","path":"/api/getVal","status":500},"timestamp":"2025-11-10 08:09:54"}
{"level":"info","message":"[server.js] SIGTERM received, shutting down gracefully","timestamp":"2025-11-10 08:11:17"}
{"level":"info","message":"[app.js]  Application initialized","timestamp":"2025-11-10 08:11:19"}
{"level":"info","message":"[dbManager.js] Database connection test successful","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[server.js] Initializing routes","timestamp":"2025-11-10 08:11:20"}
{"level":"debug","message":"[index.js]  Initializing routes","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[registerRoutes.js] Started registering routes","timestamp":"2025-11-10 08:11:20"}
{"0":"POST /api/execEventType","1":"GET /api/eventType/:xrefId","10":"POST /api/clearVals","11":"POST /api/logImpact","12":"GET /api/impacts/recent","13":"GET /api/impacts/batch/:batchId","14":"POST /api/cloneStep","15":"GET /api/studio/genPageConfig","16":"POST /api/genPageConfig","17":"POST /api/initialize","18":"GET /api/util/list-routes","19":"POST /api/util/restart-server","2":"GET /api/eventTypes","20":"POST /api/util/run-migration","21":"GET /api/util/migration-status","22":"POST /api/util/open-terminal","23":"POST /api/auth/login","24":"GET /api/github/labels","25":"GET /api/github/issues","26":"POST /api/github/issues","27":"GET /api/github/issues/:issue_number/comments","28":"POST /api/github/upload-image","3":"GET /api/triggers","4":"POST /api/execDML","5":"POST /api/execCreateDoc","6":"GET /api/getDoc","7":"POST /api/studio/genFields","8":"GET /api/getVal","9":"POST /api/setVals","level":"info","message":"[registerRoutes.js] Routes registered:","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[registerRoutes.js] Routes setup complete","timestamp":"2025-11-10 08:11:20"}
{"level":"debug","message":"[index.js]  Routes initialized","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[server.js] Routes initialized","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[server.js] Starting server on port 3001","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[server.js] Server timeouts configured: keepAlive=5s, headers=6s","timestamp":"2025-11-10 08:11:20"}
{"level":"info","message":"[server.js] Server is running on http://localhost:3001","timestamp":"2025-11-10 08:11:20"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/getVal","query":{"paramName":"appName"},"timestamp":"2025-11-10 08:11:42"}
{"level":"http","message":"[getVal.js] GET /api/getVal?paramName=appName","timestamp":"2025-11-10 08:11:42"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:11:42"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:11:42"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:11:43"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":811.862498,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:11:43"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:11:43"}
{"level":"debug","message":"[getVal.js] Retrieved value for appName: templates","timestamp":"2025-11-10 08:11:43"}
{"level":"info","message":"[app.js]  Response: GET /api/getVal 200 (818ms)","timestamp":"2025-11-10 08:11:43"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":818.417366,"method":"GET","operation":"http_request","path":"/api/getVal","status":200},"timestamp":"2025-11-10 08:11:43"}
{"body":{"testKey":"testValue","userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:12:02"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:12:02"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 400 (1ms)","timestamp":"2025-11-10 08:12:02"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.245863,"method":"POST","operation":"http_request","path":"/api/setVals","status":400},"timestamp":"2025-11-10 08:12:02"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-10 08:26:19"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:48"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-10 08:31:48"}
{"body":{"eventSQLId":"studio-triggerList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-10 08:31:48"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":258.4105,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":435.229784,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (698ms)","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":697.940601,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":1086.244249,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":1091.232273,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":1091.840613,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":108.421991,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1198ms)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1197.56702,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":110.009292,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1203ms)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1203.277945,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":132.584745,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-10 08:31:49"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1228ms)","timestamp":"2025-11-10 08:31:49"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1228.194494,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:31:49"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"login"},"1":{"paramName":"appName","paramVal":"login"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:37:57"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:37:57"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:37:57"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:37:57"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:37:57"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":378.142312,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:37:57"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:37:57"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:37:57"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:37:57"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:37:57"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":713.076047,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:37:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:37:58"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:37:58"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:37:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":713.945611,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:37:59"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:37:59"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:37:59"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1816ms)","timestamp":"2025-11-10 08:37:59"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1815.622765,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:37:59"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"12"},"1":{"paramName":"pageName","paramVal":"Login to Whatsfresh"},"2":{"paramName":"xrefID","paramVal":"12"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:38:01"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:38:01"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:01"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:01"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:38:01"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":282.594296,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:38:01"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:01"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:38:01"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:01"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:01"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":535.872235,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:02"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":748.659171,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:02"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:02"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":683.675475,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:38:03"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (2262ms)","timestamp":"2025-11-10 08:38:03"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2262.026184,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:38:03"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"12"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:38:03"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:03"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:38:03"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":267.937128,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:03"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:03"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":407.117511,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID â†’ 12","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(12)","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":408.067425,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1091ms)","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1091.168837,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:38:04"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":78},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:38:04"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:04"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:04"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:38:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":387.418914,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:38:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:05"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (390ms)","timestamp":"2025-11-10 08:38:05"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":389.86533,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 08:38:05"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:38:11"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:38:11"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:11"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:11"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:38:11"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":214.411758,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:38:11"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:11"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:38:11"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:11"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:11"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":813.710608,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:12"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:12"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:12"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:12"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":716.646995,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:13"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:13"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:38:13"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1751ms)","timestamp":"2025-11-10 08:38:13"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1750.7843870000002,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:38:13"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"},"1":{"paramName":"pageName","paramVal":"CRUD Template"},"2":{"paramName":"xrefID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:38:15"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:38:15"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:15"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:15"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:38:16"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":477.268793,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:38:16"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:16"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:38:16"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:16"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:16"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":732.03277,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:17"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":594.079866,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:38:17"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:38:17"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":789.366124,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:38:18"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (2602ms)","timestamp":"2025-11-10 08:38:18"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2602.193119,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:38:18"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"11"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:38:18"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:18"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:38:18"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":402.790457,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:18"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:18"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":479.886978,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID â†’ 11","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(11)","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":237.910208,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1125ms)","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1125.031493,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:38:19"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":65},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:38:19"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":279.725711,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:38:19"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (283ms)","timestamp":"2025-11-10 08:38:19"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":282.820098,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 08:38:19"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"whatsfresh"},"1":{"paramName":"appName","paramVal":"whatsfresh"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:40:14"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:40:14"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:14"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:14"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:14"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":209.168195,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:14"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:14"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:40:14"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:14"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:14"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":765.74665,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:15"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:15"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:15"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:15"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":507.883123,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:16"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:16"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:40:16"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1489ms)","timestamp":"2025-11-10 08:40:16"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1489.24135,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:40:16"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"1"},"1":{"paramName":"pageName","paramVal":"Ingredient Types"},"2":{"paramName":"xrefID","paramVal":"1"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:40:18"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:40:18"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:18"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:18"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":197.647964,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:19"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":478.887332,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:19"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:19"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":1154.441703,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:20"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:20"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:20"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:20"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":686.261859,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:40:21"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (2525ms)","timestamp":"2025-11-10 08:40:21"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2524.80048,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:40:21"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"1"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:40:21"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:40:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":281.278676,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":303.945163,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID â†’ 1","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(1)","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":306.131615,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (899ms)","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":898.839796,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:40:22"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":60},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:40:22"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":384.173809,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:22"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (386ms)","timestamp":"2025-11-10 08:40:22"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":385.929837,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 08:40:22"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:40:38"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:40:38"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:38"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:38"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:38"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":223.515515,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:38"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:38"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:40:38"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:38"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:38"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":621.47433,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:39"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:39"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":604.512734,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:40"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:40:40"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1457ms)","timestamp":"2025-11-10 08:40:40"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1457.059631,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:40:40"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"},"1":{"paramName":"pageName","paramVal":"CRUD Template"},"2":{"paramName":"xrefID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-10 08:40:44"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-10 08:40:44"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:44"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:44"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:44"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":180.155134,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:44"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:44"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-10 08:40:44"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:44"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:44"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":616.916267,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":620.687768,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:40:45"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:40:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":810.396357,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:46"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:46"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-10 08:40:46"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (2237ms)","timestamp":"2025-11-10 08:40:46"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2236.7341930000002,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-10 08:40:46"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"11"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:40:46"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:40:46"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-10 08:40:46"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:46"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:46"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":582.739097,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":509.340569,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID â†’ 11","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(11)","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":306.836582,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (1406ms)","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1405.7421709999999,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-10 08:40:47"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":65},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:40:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:40:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:40:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-10 08:40:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":285.010829,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-10 08:40:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:40:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (289ms)","timestamp":"2025-11-10 08:40:48"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":288.892819,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-10 08:40:48"}
{"body":{"eventSQLId":"AI-summary"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-10 08:43:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-summary","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":268.873089,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-summary (ID: 38)","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT message\nfrom api_wf.plan_communications\nwhere subject = 'AI-summary'\nLIMIT 1","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":207.654467,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:43:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-summary (ID: 38)","timestamp":"2025-11-10 08:43:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (482ms)","timestamp":"2025-11-10 08:43:58"}
{"body":{"data":{"assigned_to":"","comments":"","description":"# Fix Studio IndexedDB Table Loading\n\n## Immediate (Priority: high)\n- Investigate why Studio only loads Container from eventComp_xref (1 row instead of all)\n- Debug IndexedDB sync from MySQL after Linux migration\n- Check pageLoader.js initialization and data fetching\n- Verify API calls from Studio to gateway/server are working\n- Test with browser DevTools to see actual API responses\n\n## Short Term (Priority: medium)\n- Complete API Gateway integration testing\n- Add session-based login page to gateway\n- Test end-to-end: Gateway login â†’ App selection â†’ Studio with proper auth\n- Document IndexedDB sync process for future debugging\n\n## Future (Priority: low)\n- Remove MUI dependencies from monorepo (Plan 61)\n- Optimize Studio webpack compilation time\n- Add Docker deployment for gateway","name":"Fix Studio IndexedDB Loading Issues","priority":"immediate","status":"pending","userID":"claude"},"method":"INSERT","table":"api_wf.plans"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-10 08:44:24"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-10 08:44:24"}
{"level":"error","message":"[execDML.js] DML operation failed: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/projects/github/wf-monorepo/apps/server/server/utils/getUserEmail.js:20:11)\n    at execDML (file:///home/paul/projects/github/wf-monorepo/apps/server/server/controller/execDML.js:15:27)\n    at Layer.handleRequest (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/projects/github/wf-monorepo/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/projects/github/wf-monorepo/node_modules/router/index.js:295:15\n    at processParams (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:582:12)\n    at next (/home/paul/projects/github/wf-monorepo/node_modules/router/index.js:291:5)","timestamp":"2025-11-10 08:44:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 500 (2ms)","timestamp":"2025-11-10 08:44:24"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.787287,"method":"POST","operation":"http_request","path":"/api/execDML","status":500},"timestamp":"2025-11-10 08:44:24"}
{"body":{"data":{"assigned_to":"","comments":"","description":"# Fix Studio IndexedDB Table Loading\n\n## Immediate (Priority: high)\n- Investigate why Studio only loads Container from eventComp_xref (1 row instead of all)\n- Debug IndexedDB sync from MySQL after Linux migration\n- Check pageLoader.js initialization and data fetching\n- Verify API calls from Studio to gateway/server are working\n- Test with browser DevTools to see actual API responses\n\n## Short Term (Priority: medium)\n- Complete API Gateway integration testing\n- Add session-based login page to gateway\n- Test end-to-end: Gateway login â†’ App selection â†’ Studio with proper auth\n- Document IndexedDB sync process for future debugging\n\n## Future (Priority: low)\n- Remove MUI dependencies from monorepo (Plan 61)\n- Optimize Studio webpack compilation time\n- Add Docker deployment for gateway","name":"Fix Studio IndexedDB Loading Issues","priority":"immediate","status":"pending","userID":"claude"},"method":"INSERT","table":"api_wf.plans","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-10 08:44:43"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-10 08:44:43"}
{"data":{"assigned_to":"","comments":"","description":"# Fix Studio IndexedDB Table Loading\n\n## Immediate (Priority: high)\n- Investigate why Studio only loads Container from eventComp_xref (1 row instead of all)\n- Debug IndexedDB sync from MySQL after Linux migration\n- Check pageLoader.js initialization and data fetching\n- Verify API calls from Studio to gateway/server are working\n- Test with browser DevTools to see actual API responses\n\n## Short Term (Priority: medium)\n- Complete API Gateway integration testing\n- Add session-based login page to gateway\n- Test end-to-end: Gateway login â†’ App selection â†’ Studio with proper auth\n- Document IndexedDB sync process for future debugging\n\n## Future (Priority: low)\n- Remove MUI dependencies from monorepo (Plan 61)\n- Optimize Studio webpack compilation time\n- Add Docker deployment for gateway","name":"Fix Studio IndexedDB Loading Issues","priority":"immediate","status":"pending","userID":"claude"},"level":"debug","message":"[dmlProcessor.js] Processing INSERT on api_wf.plans","timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":63.56361,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"[dmlProcessor.js] Executing INSERT SQL:","sql":"INSERT INTO api_wf.plans (name, status, priority, description, comments, assigned_to, created_at, created_by) VALUES ('Fix Studio IndexedDB Loading Issues', 'pending', 'immediate', '# Fix Studio IndexedDB Table Loading\n\n## Immediate (Priority: high)\n- Investigate why Studio only loads Container from eventComp_xref (1 row instead of all)\n- Debug IndexedDB sync from MySQL after Linux migration\n- Check pageLoader.js initialization and data fetching\n- Verify API calls from Studio to gateway/server are working\n- Test with browser DevTools to see actual API responses\n\n## Short Term (Priority: medium)\n- Complete API Gateway integration testing\n- Add session-based login page to gateway\n- Test end-to-end: Gateway login â†’ App selection â†’ Studio with proper auth\n- Document IndexedDB sync process for future debugging\n\n## Future (Priority: low)\n- Remove MUI dependencies from monorepo (Plan 61)\n- Optimize Studio webpack compilation time\n- Add Docker deployment for gateway', '', '', NOW(), 'Kiro')","timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":278.429584,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-10 08:44:43"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"[dmlProcessor.js] INSERT executed successfully on api_wf.plans","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"[execDML.js] DML operation completed successfully","timestamp":"2025-11-10 08:44:43"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 200 (347ms)","timestamp":"2025-11-10 08:44:43"}
{"body":"{\n    \"method\": \"INSERT\",\n    \"table\": \"api_wf.plan_communications\",\n    \"data\": {\n      \"plan_id\": 60,\n      \"from_agent\": \"claude\",\n      \"to_agent\": \"any\",\n      \"type\": \"summary\",\n      \"subject\": \"API Gateway Implementation - Phase 1 Complete\",\n      \"message\": \"# Claude Session Summary - 2025-11-10\\n\\n**Focus:** API Gateway Service - Eliminate shared-imports cache hell\\n**Primary AI:** Claude\\n**Plan:** 60 - API Gateway Solution\\n\\n---\\n\\n## âœ… Major Accomplishments\\n\\n### 1. API Gateway MVP Complete\\n**Created standalone HTTP service on port 3002:**\\n- Express server with http-proxy-middleware\\n- Proxies all /api/* requests to server :3001\\n- Eliminates webpack cache issues from bundled shared-imports\\n\\n### 2. Auth Injection System\\n**Three-tier authentication priority:**\\n1. Session-based (req.session.userEmail) - highest priority\\n2. Port-based mapping (3004â†’studio@, 3000â†’admin@, 3003â†’whatsfresh@)\\n3. Header injection (x-user-email) passed to server\\n\\n### 3. Login Session Management\\n**Implemented with express-session:**\\n- POST /api/auth/login - proxies to server, creates session on success\\n- POST /api/auth/logout - destroys session\\n- 24-hour session cookies\\n- Session persists across API requests\\n\\n### 4. Server Integration\\n**Updated getUserEmail.js:**\\n- Added x-user-email header check (3rd priority)\\n- Works with existing bcrypt login controller\\n- No changes needed to other server controllers\\n- Backward compatible with direct server calls\\n\\n### 5. Studio Configuration\\n**Updated to use gateway:**\\n- Created .env with REACT_APP_API_BASE_URL=http://localhost:3002\\n- Fixed react-router-dom dependency (6.8.0 â†’ 6.26.0)\\n- Resolved MUI monorepo conflicts with --legacy-peer-deps\\n- Studio successfully compiled and running on :3004\\n\\n---\\n\\n## ðŸ“Š Statistics\\n\\n- **Files Created:** 4\\n  - apps/api-gateway/server.js (gateway implementation)\\n  - apps/api-gateway/package.json\\n  - apps/api-gateway/README.md\\n  - apps/studio/.env (gateway URL configuration)\\n- **Files Modified:** 2\\n  - apps/server/server/utils/getUserEmail.js (x-user-email header support)\\n  - apps/studio/package.json (react-router-dom version bump)\\n- **Dependencies Installed:** 4 (express, http-proxy-middleware, cors, express-session)\\n- **Ports Configured:** 3 (3002 gateway, 3001 server, 3004 studio)\\n- **Services Running:** 3 background processes (all operational)\\n\\n---\\n\\n## ðŸš€ Next Steps\\n\\n### See Plan: 61 - Fix Studio IndexedDB Loading Issues\\n\\n**Immediate priorities:**\\n1. Debug why Studio only loads 1 row (Container) from eventComp_xref instead of all components\\n2. Investigate IndexedDB sync issues after Linux migration\\n3. Check pageLoader.js and data fetching logic\\n4. Test API responses with browser DevTools\\n5. Complete gateway login page integration\\n\\n---\\n\\n## ðŸ’¡ Key Learnings\\n\\n### API Gateway Pattern\\n**Solves webpack cache hell:**\\n- HTTP calls aren\\t bundled â†’ no webpack caching\\n- Change gateway code â†’ restart only gateway (not apps)\\n- Centralized auth injection point\\n- Production-ready architecture\\n\\n### Port-Based Auth is Temporary\\n**Current approach:**\\n- Gateway maps origin port to userEmail (dev convenience)\\n- Works for development without login\\n- Production will use session-based auth only\\n\\n### Session Priority Chain\\n**Best practice auth resolution:**\\n1. Check session first (logged-in users)\\n2. Fall back to port mapping (dev mode)\\n3. Inject via header to downstream services\\n4. Server trusts gateway\\s userEmail\\n\\n### React Router Dependency Hell\\n**Issue:** react-router-dom 6.8.0 missing @remix-run/router peer dep\\n**Solution:** Upgrade to 6.26.0 (stable version)\\n**Lesson:** Old versions in package.json can break after fresh npm install\\n\\n### Monorepo MUI Conflicts\\n**Issue:** Whatsfresh app has MUI 5.x, root has MUI 7.x\\n**Workaround:** --legacy-peer-deps for Studio (MUI-free)\\n**Future:** Remove MUI entirely from monorepo (Plan 61)\\n\\n### Linux Migration Gotchas\\n**Potential issues discovered:**\\n- IndexedDB may not sync properly (needs investigation)\\n- Studio loads but data fetching incomplete\\n- Browser cache/storage may need clearing\\n- File permissions not an issue (all working)\\n\\n---\\n\\n## ðŸ”§ Technical Details\\n\\n### Gateway Architecture\\n```\\nBrowser â†’ Studio :3004\\n            â†“ fetch(http://localhost:3002/api/...)\\n       Gateway :3002\\n            â†“ injectUserEmail middleware\\n            â†“ express-session check\\n            â†“ createProxyMiddleware\\n       Server :3001\\n            â†“ getUserEmail(req) checks x-user-email header\\n       MySQL Database\\n```\\n\\n### Auth Flow\\n```\\n1. User â†’ POST /api/auth/login (via gateway)\\n2. Gateway â†’ Proxy to server :3001\\n3. Server â†’ bcrypt check, return user object\\n4. Gateway â†’ Create session, store userEmail\\n5. Future requests â†’ Session provides userEmail\\n6. Gateway â†’ Inject x-user-email header\\n7. Server â†’ Trust gateway\\s header\\n```\\n\\n---\\n\\n## âš ï¸ Known Issues\\n\\n### Studio IndexedDB Problem\\n**Symptom:** Only 1 component loads (Container) instead of full page structure\\n**Impact:** Page rendering incomplete, can\\t test gateway end-to-end\\n**Priority:** IMMEDIATE - blocks all testing\\n**Next Session:** Kiro to debug with DevTools\\n\\n### Login Page Chicken-Egg\\n**Issue:** Want to use Studio to build login page, but Studio isn\\t working\\n**Options:**\\n  A) Fix Studio first, then build login in Studio\\n  B) Build simple HTML login for gateway now\\n**Decision:** Fix Studio first (user preference)\\n\\n---\\n\\n**Status:** Gateway infrastructure complete and tested. Studio running but data loading broken. Ready for debugging session focused on IndexedDB sync.\\n\\n**Handoff to Kiro:**\\n- [ ] Debug Studio eventComp_xref loading (only 1 row returned)\\n- [ ] Check browser Network tab for API responses\\n- [ ] Verify IndexedDB contents in DevTools\\n- [ ] Test pageLoader.js with console.log debugging\\n\",\n      \"status\": \"\",\n      \"userID\": \"claude\"\n    },\n    \"userEmail\": \"claude@whatsfresh.ai\"\n  }","expose":true,"level":"error","message":"[app.js]  JSON parsing error: Bad escaped character in JSON at position 3484","stack":"SyntaxError: Bad escaped character in JSON at position 3484\n    at JSON.parse (<anonymous>)\n    at parse (/home/paul/projects/github/wf-monorepo/node_modules/body-parser/lib/types/json.js:77:19)\n    at /home/paul/projects/github/wf-monorepo/node_modules/body-parser/lib/read.js:123:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/paul/projects/github/wf-monorepo/node_modules/raw-body/index.js:238:16)\n    at done (/home/paul/projects/github/wf-monorepo/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/paul/projects/github/wf-monorepo/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","status":400,"statusCode":400,"timestamp":"2025-11-10 08:45:32","type":"entity.parse.failed"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-10 09:26:19"}
