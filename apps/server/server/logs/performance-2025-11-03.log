{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 07:01:29"}
{"level":"info","message":"Log file rotated","newFilename":"/home/paul/wf-monorepo-new/apps/server/server/logs/application-2025-11-03.log","oldFilename":"/home/paul/wf-monorepo-new/apps/server/server/logs/application-2025-11-02.log","timestamp":"2025-11-03 07:01:29"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 07:01:58"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 07:01:58"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 07:01:58"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":398.451209,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":392.26983,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":390.592071,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":452.923014,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":196.122997,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (603ms)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":602.666929,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":197.216963,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (590ms)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":590.280404,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":206.111132,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (603ms)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":603.231318,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":202.276802,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 07:01:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (659ms)","timestamp":"2025-11-03 07:01:58"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":658.748559,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 07:01:58"}
{"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/util/run-migration","timestamp":"2025-11-03 07:02:39"}
{"level":"http","message":"[runMigration.js] POST /api/util/run-migration","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] Starting migration script (SSH tunnels should already be running)","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[app.js]  Response: POST /api/util/run-migration 200 (15ms)","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m üöÄ Starting Complete Migration Process","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m ======================================","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Running pre-flight checks...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Tunnel management will be handled by step 00","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Pre-flight checks passed","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Starting migration with 14 steps...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: ","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m About to start executing steps...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m DEBUG: Testing loop entry...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m DEBUG: Number of steps in array: 14","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m DEBUG: First step: 00_start_tunnels.sh","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m DEBUG: Starting for loop...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m üìç Step 1/14: 00_start_tunnels.sh","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m DEBUG: Executing ./migration/steps_v2/00_start_tunnels.sh...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m üöÄ Starting: 00 - Start SSH Tunnels","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Checking SSH tunnel status...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;31m[ERROR]\u001b[0m Production tunnel not accessible on port 13306","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;31m[ERROR]\u001b[0m Run: ./session/start.sh prodServer","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Starting SSH tunnel manager...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m üîµ Starting production tunnel...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Creating production tunnel: localhost:13306 -> paul@whatsfresh.app:3306","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:39]\u001b[0m Please enter password for paul@whatsfresh.app when prompted...","timestamp":"2025-11-03 07:02:39"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Production tunnel started (PID: 386498)","timestamp":"2025-11-03 07:02:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:50]\u001b[0m    Connect with: mysql -h localhost -P 13306 -u paul -p","timestamp":"2025-11-03 07:02:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:50]\u001b[0m üü¢ Starting test tunnel...","timestamp":"2025-11-03 07:02:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:50]\u001b[0m Creating test tunnel with SSH key: localhost:13307 -> wf_admin@159.223.104.19:3306","timestamp":"2025-11-03 07:02:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Test tunnel started (PID: 386518)","timestamp":"2025-11-03 07:02:53"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:53]\u001b[0m    Connect with: mysql -h localhost -P 13307 -u wf_admin -p","timestamp":"2025-11-03 07:02:53"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:53]\u001b[0m üìä Tunnel Status:","timestamp":"2025-11-03 07:02:53"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m üîµ Production tunnel: ACTIVE (PID: 386498)","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:54]\u001b[0m    Port: localhost:13306 -> paul@whatsfresh.app:3306","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m    ‚úì Port 13306 is accessible","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m üü¢ Test tunnel: ACTIVE (PID: 386518)","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:54]\u001b[0m    Port: localhost:13307 -> wf_admin@159.223.104.19:3306","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m    ‚úì Port 13307 is accessible","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:54]\u001b[0m Waiting 5 seconds for tunnels to establish...","timestamp":"2025-11-03 07:02:54"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both SSH tunnels started and accessible\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 00 - Start SSH Tunnels - SSH tunnels started successfully\n=================================================================","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 1 completed: 00_start_tunnels.sh","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m üìç Step 2/14: 01_clear_wf_stage.sh","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m DEBUG: Executing ./migration/steps_v2/01_clear_wf_stage.sh...","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m üöÄ Starting: 01 - Clear Staging Database","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:02:59]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:02:59"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:00]\u001b[0m Clearing wf_stage database...","timestamp":"2025-11-03 07:03:00"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m wf_stage database cleared successfully\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 01 - Clear Staging Database - Staging database ready for fresh data","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 2 completed: 01_clear_wf_stage.sh","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m üìç Step 3/14: 02_bulk_copy_to_staging.sh","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m DEBUG: Executing ./migration/steps_v2/02_bulk_copy_to_staging.sh...","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m üöÄ Starting: 02 - Bulk Copy to Staging","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m Bulk copying 17 tables to wf_stage database...","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m Ensuring wf_stage database exists...","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:03]\u001b[0m Exporting 17 tables from production...","timestamp":"2025-11-03 07:03:03"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:16]\u001b[0m Bulk export completed successfully","timestamp":"2025-11-03 07:03:16"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:16]\u001b[0m Importing tables to wf_stage database...","timestamp":"2025-11-03 07:03:16"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:40]\u001b[0m Bulk import completed successfully","timestamp":"2025-11-03 07:03:40"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:40]\u001b[0m Removing generated columns from staging tables...","timestamp":"2025-11-03 07:03:40"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Bulk copy completed: 17 tables in 38s\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 02 - Bulk Copy to Staging - All tables copied to wf_stage and generated columns removed","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 3 completed: 02_bulk_copy_to_staging.sh","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m üìç Step 4/14: 03_setup_whatsfresh.sh","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m DEBUG: Executing ./migration/steps_v2/03_setup_whatsfresh.sh...","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m üöÄ Starting: 03 - Setup Whatsfresh Database","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m Executing procedure: copyToWhatsfresh","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:41]\u001b[0m Description: Clear whatsfresh and copy base tables from wf_stage","timestamp":"2025-11-03 07:03:41"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure copyToWhatsfresh completed in 4s","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 03 - Setup Whatsfresh Database - Base tables copied to whatsfresh successfully\n=================================================================","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 4 completed: 03_setup_whatsfresh.sh","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m üìç Step 5/14: 04_convertIngrBtch.sh","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m DEBUG: Executing ./migration/steps_v2/04_convertIngrBtch.sh...","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m üöÄ Starting: 04 - Convert Ingredient Batches","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m Executing procedure: convertIngrBtch","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:45]\u001b[0m Description: Converting ingredient batches from production to test format","timestamp":"2025-11-03 07:03:45"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertIngrBtch completed in 1s\n=================================================================","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 04 - Convert Ingredient Batches - Ingredient batches converted\n=================================================================","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 5 completed: 04_convertIngrBtch.sh","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: ","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m üìç Step 6/14: 05_convertProd.sh","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m DEBUG: Executing ./migration/steps_v2/05_convertProd.sh...","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m üöÄ Starting: 05 - Convert Products","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m Executing procedure: convertProd","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:46]\u001b[0m Description: Converting products from production to test format","timestamp":"2025-11-03 07:03:46"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertProd completed in 2s","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 05 - Convert Products - Products converted\n=================================================================","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 6 completed: 05_convertProd.sh","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m üìç Step 7/14: 06_convertProdBtch.sh","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m DEBUG: Executing ./migration/steps_v2/06_convertProdBtch.sh...","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m üöÄ Starting: 06 - Convert Product Batches","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m Executing procedure: convertProdBtch","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:48]\u001b[0m Description: Convert Product Batches from production to test format","timestamp":"2025-11-03 07:03:48"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertProdBtch completed in 1s","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 06 - Convert Product Batches - Convert Product Batches completed\n=================================================================","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 7 completed: 06_convertProdBtch.sh","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m üìç Step 8/14: 07_convertRcpeBtch.sh","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m DEBUG: Executing ./migration/steps_v2/07_convertRcpeBtch.sh...","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m üöÄ Starting: 07 - Convert Recipe Batches","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m Executing procedure: convertRcpeBtch","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:49]\u001b[0m Description: Convert Recipe Batches from production to test format","timestamp":"2025-11-03 07:03:49"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertRcpeBtch completed in 1s\n=================================================================","timestamp":"2025-11-03 07:03:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 07 - Convert Recipe Batches - Convert Recipe Batches completed\n=================================================================","timestamp":"2025-11-03 07:03:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:50]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 8 completed: 07_convertRcpeBtch.sh","timestamp":"2025-11-03 07:03:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:50]\u001b[0m üìç Step 9/14: 08_convertTaskBtch.sh","timestamp":"2025-11-03 07:03:50"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:51]\u001b[0m DEBUG: Executing ./migration/steps_v2/08_convertTaskBtch.sh...","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:51]\u001b[0m üöÄ Starting: 08 - Convert Task Batches","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:51]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:51]\u001b[0m Executing procedure: convertTaskBtch","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:51]\u001b[0m Description: Convert Task Batches from production to test format","timestamp":"2025-11-03 07:03:51"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertTaskBtch completed in 1s","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 08 - Convert Task Batches - Convert Task Batches completed\n=================================================================","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 9 completed: 08_convertTaskBtch.sh","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m üìç Step 10/14: 09_convertProdIngr_Map.sh","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m DEBUG: Executing ./migration/steps_v2/09_convertProdIngr_Map.sh...","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m üöÄ Starting: 09 - Convert Product Ingredient Mapping","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m Executing procedure: convertProdIngr_Map","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:03:52]\u001b[0m Description: Convert Product Ingredient Mapping from production to test format","timestamp":"2025-11-03 07:03:52"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertProdIngr_Map completed in 19s\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 09 - Convert Product Ingredient Mapping - Convert Product Ingredient Mapping completed\n=================================================================","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 10 completed: 09_convertProdIngr_Map.sh","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: ","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m üìç Step 11/14: 10_createShopEvent.sh","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m DEBUG: Executing ./migration/steps_v2/10_createShopEvent.sh...","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m üöÄ Starting: 10 - Create Shop Events","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m Executing procedure: createShopEvent","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:11]\u001b[0m Description: Create Shop Events from production to test format","timestamp":"2025-11-03 07:04:11"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure createShopEvent completed in 2s\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 10 - Create Shop Events - Create Shop Events completed\n=================================================================","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 11 completed: 10_createShopEvent.sh","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m üìç Step 12/14: 11_ConvertMeasureUnits.sh","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m DEBUG: Executing ./migration/steps_v2/11_ConvertMeasureUnits.sh...","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m üöÄ Starting: 11 - Create Measure Units","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m Executing procedure: ConvertMeasureUnits","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:13]\u001b[0m Description: Create Measure Units from production to test format","timestamp":"2025-11-03 07:04:13"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure ConvertMeasureUnits completed in 5s","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 11 - Create Measure Units - Convert Measure Units completed\n=================================================================","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 12 completed: 11_ConvertMeasureUnits.sh","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m üìç Step 13/14: 12_convertIndices.sh","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m DEBUG: Executing ./migration/steps_v2/12_convertIndices.sh...","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m üöÄ Starting: 12 - Add Indices and active columns","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m Checking tunnel status...","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Both tunnels are accessible","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m Executing procedure: convertIndices","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:18]\u001b[0m Description: Convert Indices from production to test format","timestamp":"2025-11-03 07:04:18"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Procedure convertIndices completed in 11s\n=================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 12 - Add Indices and active columns - Convert Indices completed","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 13 completed: 12_convertIndices.sh","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m üìç Step 14/14: 13_stop_tunnels.sh","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m DEBUG: Executing ./migration/steps_v2/13_stop_tunnels.sh...","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m üöÄ Starting: 13 - Stop SSH Tunnels","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m Stopping SSH tunnels...","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m üî¥ Stopping production tunnel...","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Production tunnel stopped (PID: 386498)","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m üî¥ Stopping test tunnel...","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Test tunnel stopped (PID: 386518)","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m All tunnels stopped","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m SSH tunnels stopped successfully","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m ‚úÖ Completed: 13 - Stop SSH Tunnels - SSH tunnels closed cleanly\n=================================================================","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m Migration cleanup complete","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m DEBUG: Step returned exit code: 0","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Step 14 completed: 13_stop_tunnels.sh","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: =================================================================\n\u001b[0;32m[SUCCESS]\u001b[0m üéâ MIGRATION COMPLETED SUCCESSFULLY!\n=================================================================","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m üìä Final Summary:","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   Total steps: 14","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   All steps completed successfully","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   Total duration: 110s","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   Log file: migration-logs/25-11-03 07:02 migration.log","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: ","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m Next steps:","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   1. Validate migrated data","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   2. Test your application with migrated data","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;34m[07:04:29]\u001b[0m   3. SSH tunnels have been closed automatically","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] [MIGRATION]: \u001b[0;32m[SUCCESS]\u001b[0m Migration process complete! üéä","timestamp":"2025-11-03 07:04:29"}
{"level":"info","message":"[runMigration.js] Migration completed successfully","timestamp":"2025-11-03 07:04:29"}
{"body":{"method":"SELECT","query":"SELECT * FROM vw_eventProp WHERE pageID = 1 AND paramName = \"columns\" LIMIT 1","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-03 07:27:54"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-03 07:27:54"}
{"level":"debug","message":"[dmlProcessor.js] Processing SELECT on undefined","timestamp":"2025-11-03 07:27:54"}
{"code":"MISSING_REQUIRED_FIELDS","level":"error","message":"[execDML.js] DML operation failed: method, table, and data are required","stack":"Error: method, table, and data are required\n    at processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:42:19)\n    at execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:20:30)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","status":400,"timestamp":"2025-11-03 07:27:54"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 400 (7ms)","timestamp":"2025-11-03 07:27:54"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":6.576557,"method":"POST","operation":"http_request","path":"/api/execDML","status":400},"timestamp":"2025-11-03 07:27:54"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"testing"},"1":{"paramName":"appName","paramVal":"testing"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:44:52"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:44:52"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 07:44:52"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (5ms)","timestamp":"2025-11-03 07:44:52"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":4.660965,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 07:44:52"}
{"body":{"eventSQLId":"pageTriggers","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:45:07"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: pageTriggers","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":190.736406,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":101.378377,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[execEventType.js] Resolved from context :pageID ‚Üí 11","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT trigger_id, xref_id, pageName, comp_name, comp_type, \r\n       class, action, ordr, content\r\nFROM api_wf.vw_eventTrigger\r\nWHERE pageID = 11\r\nORDER BY comp_name, class, ordr","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 12","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":162.468811,"method":"GET","operation":"database_query","rowCount":12,"success":true},"timestamp":"2025-11-03 07:45:07"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:07"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (458ms)","timestamp":"2025-11-03 07:45:07"}
{"body":{"userEmail":"claude@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"18"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:45:14"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:45:14"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:14"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:14"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:14"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":198.682373,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:14"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:14"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:45:14"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:45:14"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":349.68725,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[setVals.js] Set 1 values for claude@whatsfresh.ai","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (552ms)","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":552.405873,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 07:45:15"}
{"body":{"eventSQLId":"pageTriggers","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:45:15"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: pageTriggers","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":189.16824,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":201.754765,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[execEventType.js] Resolved from context :pageID ‚Üí 18","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT trigger_id, xref_id, pageName, comp_name, comp_type, \r\n       class, action, ordr, content\r\nFROM api_wf.vw_eventTrigger\r\nWHERE pageID = 18\r\nORDER BY comp_name, class, ordr","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 12","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":99.85378,"method":"GET","operation":"database_query","rowCount":12,"success":true},"timestamp":"2025-11-03 07:45:15"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:15"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (494ms)","timestamp":"2025-11-03 07:45:15"}
{"body":{"eventSQLId":"pageTriggers","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:45:20"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: pageTriggers","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:20"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:20"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":102.633382,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:20"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:20"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":94.93062,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[execEventType.js] Resolved from context :pageID ‚Üí 18","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT trigger_id, xref_id, pageName, comp_name, comp_type, \r\n       class, action, ordr, content\r\nFROM api_wf.vw_eventTrigger\r\nWHERE pageID = 18\r\nORDER BY comp_name, class, ordr","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:20"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:20"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 12","timestamp":"2025-11-03 07:45:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":146.565111,"method":"GET","operation":"database_query","rowCount":12,"success":true},"timestamp":"2025-11-03 07:45:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:21"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:21"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (347ms)","timestamp":"2025-11-03 07:45:21"}
{"body":{"eventSQLId":"pageTriggers","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:45:27"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: pageTriggers","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:27"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:27"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":72.484629,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:27"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:27"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":76.814206,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[execEventType.js] Resolved from context :pageID ‚Üí 18","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT trigger_id, xref_id, pageName, comp_name, comp_type, \r\n       class, action, ordr, content\r\nFROM api_wf.vw_eventTrigger\r\nWHERE pageID = 18\r\nORDER BY comp_name, class, ordr","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:27"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:27"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 12","timestamp":"2025-11-03 07:45:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":148.467959,"method":"GET","operation":"database_query","rowCount":12,"success":true},"timestamp":"2025-11-03 07:45:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:28"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:28"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (301ms)","timestamp":"2025-11-03 07:45:28"}
{"body":{"userEmail":"claude@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:45:40"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:45:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":254.63551,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:40"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:45:40"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:45:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":395.092728,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[setVals.js] Set 1 values for claude@whatsfresh.ai","timestamp":"2025-11-03 07:45:41"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (652ms)","timestamp":"2025-11-03 07:45:41"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":651.762514,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 07:45:41"}
{"body":{"eventSQLId":"pageTriggers","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:45:41"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: pageTriggers","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:41"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:41"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":48.208028,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:41"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:41"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:45:42"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":238.703926,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[execEventType.js] Resolved from context :pageID ‚Üí 11","timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT trigger_id, xref_id, pageName, comp_name, comp_type, \r\n       class, action, ordr, content\r\nFROM api_wf.vw_eventTrigger\r\nWHERE pageID = 11\r\nORDER BY comp_name, class, ordr","timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:42"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 12","timestamp":"2025-11-03 07:45:42"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":54.919107,"method":"GET","operation":"database_query","rowCount":12,"success":true},"timestamp":"2025-11-03 07:45:42"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:42"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: pageTriggers (ID: 6)","timestamp":"2025-11-03 07:45:42"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (345ms)","timestamp":"2025-11-03 07:45:42"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/eventTypes","timestamp":"2025-11-03 07:45:52"}
{"level":"http","message":"[getEventTypes.js] GET /api/eventTypes","timestamp":"2025-11-03 07:45:52"}
{"level":"debug","message":"[getEventTypes.js] Fetching all active eventTypes","timestamp":"2025-11-03 07:45:52"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:45:52"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:45:52"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 07:45:53"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":351.142798,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 07:45:53"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:45:53"}
{"level":"warn","message":"[getEventTypes.js] Invalid JSON in style for Modal: Bad control character in string literal in JSON at position 300 (line 12 column 21)","timestamp":"2025-11-03 07:45:53"}
{"level":"info","message":"[getEventTypes.js] Fetched 25 eventTypes","timestamp":"2025-11-03 07:45:53"}
{"level":"info","message":"[app.js]  Response: GET /api/eventTypes 200 (356ms)","timestamp":"2025-11-03 07:45:53"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"admin"},"1":{"paramName":"appName","paramVal":"admin"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:55:48"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:55:48"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 07:55:48"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 07:55:48"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.647508,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 07:55:48"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:56:00"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:56:00"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 07:56:00"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (4ms)","timestamp":"2025-11-03 07:56:00"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":4.138245,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 07:56:00"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":119.208794,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":99.192673,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":97.495879,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":44.991751,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":33.769413,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (156ms)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":34.825051,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (137ms)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":35.84907,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (136ms)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":41.360763,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 07:59:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 07:59:47"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (90ms)","timestamp":"2025-11-03 07:59:47"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"testing"},"1":{"paramName":"appName","paramVal":"testing"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:59:53"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":180.264567,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:53"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":381.172476,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":299.268747,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:53"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (866ms)","timestamp":"2025-11-03 07:59:53"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":865.710458,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 07:59:53"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"18"},"1":{"paramName":"pageName","paramVal":"Testing Clone"},"2":{"paramName":"xrefID","paramVal":"18"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 07:59:55"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:55"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 07:59:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":207.945904,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:55"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:59:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":222.920974,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:59:55"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:59:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":263.482385,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":292.018956,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (992ms)","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":991.922343,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 07:59:56"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"18"}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 07:59:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":107.956687,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 07:59:56"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 07:59:56"}
{"level":"error","message":"[execEventType.js] EventSQL execution failed for ID studio-xrefHierarchy: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:63:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 500 (110ms)","timestamp":"2025-11-03 07:59:56"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":109.522076,"method":"POST","operation":"http_request","path":"/api/execEventType","status":500},"timestamp":"2025-11-03 07:59:56"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:00:06"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:00:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:00:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":421.219971,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:06"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:00:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":531.861897,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:00:06"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:00:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":404.795566,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:00:07"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:07"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:00:07"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1362ms)","timestamp":"2025-11-03 08:00:07"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1361.766846,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 08:00:07"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"},"1":{"paramName":"pageName","paramVal":"CRUD Template"},"2":{"paramName":"xrefID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:00:09"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:00:09"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:00:09"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":138.322604,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:09"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:00:09"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":253.861118,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:00:09"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:00:09"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":335.84068,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":322.976843,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1057ms)","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1056.727127,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 08:00:10"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"11"}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:00:10"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":102.133407,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 08:00:10"}
{"level":"error","message":"[execEventType.js] EventSQL execution failed for ID studio-xrefHierarchy: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:63:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 500 (104ms)","timestamp":"2025-11-03 08:00:10"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":103.996908,"method":"POST","operation":"http_request","path":"/api/execEventType","status":500},"timestamp":"2025-11-03 08:00:10"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 08:03:32"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:03:38"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:03:38"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:03:38"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:38"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:38"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":76.83308,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":70.180851,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":74.390089,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":87.316736,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (164ms)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":104.631935,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (177ms)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":109.141332,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (189ms)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":79.385104,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":97.644072,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:03:39"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:03:39"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (179ms)","timestamp":"2025-11-03 08:03:39"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"testing"},"1":{"paramName":"appName","paramVal":"testing"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:03:42"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:03:42"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:03:42"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (1ms)","timestamp":"2025-11-03 08:03:42"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.447681,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:03:42"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:20:49"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:20:49"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:20:49"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (4ms)","timestamp":"2025-11-03 08:20:49"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":4.378647,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:20:49"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":48.419101,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":89.039903,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":89.715172,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":86.032594,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (138ms)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":33.559529,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":108.777748,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (201ms)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":110.404663,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (204ms)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":75.718194,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:20:58"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:20:58"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (113ms)","timestamp":"2025-11-03 08:20:58"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:21:01"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:21:01"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:21:01"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (3ms)","timestamp":"2025-11-03 08:21:01"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2.936579,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:21:01"}
{"level":"info","message":"[app.js]  Application initialized","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[dbManager.js] Database connection test successful","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[server.js] Initializing routes","timestamp":"2025-11-03 08:21:41"}
{"level":"debug","message":"[index.js]  Initializing routes","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[registerRoutes.js] Started registering routes","timestamp":"2025-11-03 08:21:41"}
{"0":"POST /api/execEventType","1":"GET /api/eventType/:xrefId","10":"POST /api/clearVals","11":"POST /api/logImpact","12":"GET /api/impacts/recent","13":"GET /api/impacts/batch/:batchId","14":"POST /api/cloneStep","15":"GET /api/studio/genPageConfig","16":"POST /api/genPageConfig","17":"POST /api/initialize","18":"GET /api/util/list-routes","19":"POST /api/util/restart-server","2":"GET /api/eventTypes","20":"POST /api/util/run-migration","21":"GET /api/util/migration-status","22":"POST /api/util/open-terminal","23":"POST /api/auth/login","24":"GET /api/github/labels","25":"GET /api/github/issues","26":"POST /api/github/issues","27":"GET /api/github/issues/:issue_number/comments","28":"POST /api/github/upload-image","3":"GET /api/triggers","4":"POST /api/execDML","5":"POST /api/execCreateDoc","6":"GET /api/getDoc","7":"POST /api/studio/genFields","8":"GET /api/getVal","9":"POST /api/setVals","level":"info","message":"[registerRoutes.js] Routes registered:","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[registerRoutes.js] Routes setup complete","timestamp":"2025-11-03 08:21:41"}
{"level":"debug","message":"[index.js]  Routes initialized","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[server.js] Routes initialized","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[server.js] Starting server on port 3001","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[server.js] Server timeouts configured: keepAlive=5s, headers=6s","timestamp":"2025-11-03 08:21:41"}
{"level":"info","message":"[server.js] Server is running on http://localhost:3001","timestamp":"2025-11-03 08:21:41"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:21:50"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:21:50"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:21:50"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":211.353768,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":205.187297,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":212.741083,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":197.223584,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":78.091682,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (289ms)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":88.360495,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (313ms)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":77.077585,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (297ms)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":74.480326,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:21:50"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:21:50"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (276ms)","timestamp":"2025-11-03 08:21:50"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:21:54"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:21:54"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:21:54"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (4ms)","timestamp":"2025-11-03 08:21:54"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":3.830549,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:21:54"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":164.399762,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":220.618469,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":208.955534,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":84.162856,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (253ms)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":47.902314,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (260ms)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":95.802655,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (321ms)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":75.708249,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":69.903226,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:25:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:25:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (149ms)","timestamp":"2025-11-03 08:25:24"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:25:28"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:25:28"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:25:28"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 08:25:28"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.892246,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:25:28"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":47.653257,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":99.051265,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":91.599222,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":172.463326,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (226ms)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":117.051112,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (216ms)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":122.901896,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (226ms)","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":121.711567,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:30:21"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:30:21"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:30:22"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":39.519431,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:30:22"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:30:22"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:30:22"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (165ms)","timestamp":"2025-11-03 08:30:22"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:30:25"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:30:25"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:30:25"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (1ms)","timestamp":"2025-11-03 08:30:25"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":0.891882,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:30:25"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":49.484614,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":57.042155,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":113.83089,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (167ms)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":179.597373,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":147.573246,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":157.182131,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (218ms)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":45.346161,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (228ms)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":209.863913,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:33:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:33:06"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (360ms)","timestamp":"2025-11-03 08:33:06"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:33:11"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:33:11"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:33:11"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (1ms)","timestamp":"2025-11-03 08:33:11"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.148028,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:33:11"}
{"level":"info","message":"[app.js]  Application initialized","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[dbManager.js] Database connection test successful","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[server.js] Initializing routes","timestamp":"2025-11-03 08:33:28"}
{"level":"debug","message":"[index.js]  Initializing routes","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[registerRoutes.js] Started registering routes","timestamp":"2025-11-03 08:33:28"}
{"0":"POST /api/execEventType","1":"GET /api/eventType/:xrefId","10":"POST /api/clearVals","11":"POST /api/logImpact","12":"GET /api/impacts/recent","13":"GET /api/impacts/batch/:batchId","14":"POST /api/cloneStep","15":"GET /api/studio/genPageConfig","16":"POST /api/genPageConfig","17":"POST /api/initialize","18":"GET /api/util/list-routes","19":"POST /api/util/restart-server","2":"GET /api/eventTypes","20":"POST /api/util/run-migration","21":"GET /api/util/migration-status","22":"POST /api/util/open-terminal","23":"POST /api/auth/login","24":"GET /api/github/labels","25":"GET /api/github/issues","26":"POST /api/github/issues","27":"GET /api/github/issues/:issue_number/comments","28":"POST /api/github/upload-image","3":"GET /api/triggers","4":"POST /api/execDML","5":"POST /api/execCreateDoc","6":"GET /api/getDoc","7":"POST /api/studio/genFields","8":"GET /api/getVal","9":"POST /api/setVals","level":"info","message":"[registerRoutes.js] Routes registered:","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[registerRoutes.js] Routes setup complete","timestamp":"2025-11-03 08:33:28"}
{"level":"debug","message":"[index.js]  Routes initialized","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[server.js] Routes initialized","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[server.js] Starting server on port 3001","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[server.js] Server timeouts configured: keepAlive=5s, headers=6s","timestamp":"2025-11-03 08:33:28"}
{"level":"info","message":"[server.js] Server is running on http://localhost:3001","timestamp":"2025-11-03 08:33:28"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:33:36"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:33:36"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:37"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:33:37"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:33:37"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":429.531319,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":439.589442,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":446.623625,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":440.272149,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":193.125204,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (638ms)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":637.562759,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":196.717261,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (650ms)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":650.176814,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":203.748827,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (637ms)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":636.779921,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":197.858567,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:33:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (641ms)","timestamp":"2025-11-03 08:33:37"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":641.230171,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 08:33:37"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:33:42"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:33:42"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:33:42"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 08:33:42"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.87198,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:33:42"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":70.34625,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":79.491977,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":74.12406,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":34.485203,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (118ms)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":35.415763,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":81.531629,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (159ms)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":74.658279,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (151ms)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":68.11284,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:38:45"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:38:45"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (107ms)","timestamp":"2025-11-03 08:38:45"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:38:50"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:38:50"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:38:50"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (1ms)","timestamp":"2025-11-03 08:38:50"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.298964,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:38:50"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":89.907107,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":83.085832,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":95.548178,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":32.068954,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (122ms)","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":39.206271,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (132ms)","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":77.032002,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:40:36"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:40:36"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":98.058144,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:40:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (203ms)","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":74.600371,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:40:37"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:40:37"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (154ms)","timestamp":"2025-11-03 08:40:37"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":32.520833,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":34.781649,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":101.587379,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":65.780025,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (101ms)","timestamp":"2025-11-03 08:41:28"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":35.703503,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (141ms)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":110.018993,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (147ms)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":186.115077,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":57.064366,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:41:28"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:41:28"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (246ms)","timestamp":"2025-11-03 08:41:28"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":33.068859,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":32.36165,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":36.121165,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":36.662515,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (76ms)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":61.035047,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (97ms)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":32.77692,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":66.156571,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (103ms)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":33.360927,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:41:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:41:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (69ms)","timestamp":"2025-11-03 08:41:30"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:42:33"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:42:33"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:42:33"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 08:42:33"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.848555,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:42:33"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":152.759379,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":139.550176,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":137.313968,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":43.944203,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (200ms)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":52.120879,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (193ms)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":56.914535,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (201ms)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":40.742254,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":58.754774,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:44:05"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:44:05"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (104ms)","timestamp":"2025-11-03 08:44:05"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:44:12"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:44:12"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:44:12"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 08:44:12"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.585615,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:44:12"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":70.577092,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":69.835655,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":81.289782,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":47.92509,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":48.293332,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (123ms)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":84.224343,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (158ms)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":59.753846,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (111ms)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":88.484105,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:47:48"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:47:48"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (176ms)","timestamp":"2025-11-03 08:47:48"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:47:59"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:47:59"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:47:59"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (1ms)","timestamp":"2025-11-03 08:47:59"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1.26076,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:47:59"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":120.928066,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":116.90771,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":210.477177,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":216.16464,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":105.953374,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (230ms)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":96.864522,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (311ms)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":98.558279,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (319ms)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":196.564594,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:48:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:48:24"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (317ms)","timestamp":"2025-11-03 08:48:24"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:48:33"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:48:33"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:48:33"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (2ms)","timestamp":"2025-11-03 08:48:33"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":2.095531,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:48:33"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 08:49:04"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"body":{"eventSQLId":"studio-triggerList","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":55.943373,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":53.43963,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":67.291007,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":76.414958,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":41.99341,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (102ms)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":43.01343,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (99ms)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":41.155757,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (123ms)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":94.247762,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:50:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:50:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (165ms)","timestamp":"2025-11-03 08:50:56"}
{"body":{"values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:51:00"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:51:00"}
{"level":"error","message":"[setVals.js] Error in setVals controller: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at setVals (file:///home/paul/wf-monorepo-new/apps/server/server/controller/setVals.js:68:23)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","timestamp":"2025-11-03 08:51:00"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 500 (3ms)","timestamp":"2025-11-03 08:51:00"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":3.25491,"method":"POST","operation":"http_request","path":"/api/setVals","status":500},"timestamp":"2025-11-03 08:51:00"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"body":{"eventSQLId":"studio-triggerList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":118.546912,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":133.0756,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":127.916503,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":108.09385,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:54:29"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:54:29"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":89.422323,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:54:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (201ms)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":97.070133,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:54:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (226ms)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":108.268111,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:54:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (245ms)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":109.799679,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:54:30"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:54:30"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (242ms)","timestamp":"2025-11-03 08:54:30"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:55:16"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:16"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:55:16"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":68.66306,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:16"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:55:16"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":154.350027,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:55:16"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":136.879298,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:16"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:55:16"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (363ms)","timestamp":"2025-11-03 08:55:16"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"},"1":{"paramName":"pageName","paramVal":"CRUD Template"},"2":{"paramName":"xrefID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:55:24"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:24"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:55:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":176.766513,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:24"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:55:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":405.009556,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:55:24"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:55:24"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":263.320991,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:25"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:25"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:55:25"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:55:25"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":342.47712,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1192ms)","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1192.356485,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 08:55:26"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"11"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:55:26"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":265.291503,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":208.614131,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID ‚Üí 11","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(11)","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:26"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:26"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":81.57214,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:55:27"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (559ms)","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":558.770894,"method":"POST","operation":"http_request","path":"/api/execEventType","status":200},"timestamp":"2025-11-03 08:55:27"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":65},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:55:27"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:55:27"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-03 08:55:27"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:55:27"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":213.558095,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:55:27"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (215ms)","timestamp":"2025-11-03 08:55:27"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":214.914339,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-03 08:55:27"}
{"body":{"eventSQLId":"studio-eventTypeList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventTypeList","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"body":{"eventSQLId":"studio-eventSqlList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-eventSqlList","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"body":{"eventSQLId":"studio-triggerList","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-triggerList","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":56.428181,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, name, category, title, style\r\nFROM api_wf.eventType\r\nORDER BY Hier, name","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":53.712352,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT id, qryName, qrySQL, description\r\nFROM api_wf.eventSQL\r\nWHERE active = 1\r\nORDER BY qryName","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":48.273036,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select a.id, a.trigType, content_type, a.is_dom_event, a.name, \r\na.description, a.example \r\nfrom    api_wf.triggers a \r\norder by a.trigType, name","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"body":{"eventSQLId":"studio-pageRegistry","params":{},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-pageRegistry","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":38.059544,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventTypeList (ID: 9)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (98ms)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 23","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":45.873033,"method":"GET","operation":"database_query","rowCount":23,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-triggerList (ID: 16)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (97ms)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 39","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":57.582337,"method":"GET","operation":"database_query","rowCount":39,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-eventSqlList (ID: 17)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (119ms)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":247.525265,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[execEventType.js] Executing SQL: select id, appName, pageName, pageTitle, \r\ntableName, tableID, pr.contextKey, pr.routePath\r\nfrom  api_wf.page_registry pr \r\norder by appName, pageName","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 18","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":57.542065,"method":"GET","operation":"database_query","rowCount":18,"success":true},"timestamp":"2025-11-03 08:57:40"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-pageRegistry (ID: 32)","timestamp":"2025-11-03 08:57:40"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (307ms)","timestamp":"2025-11-03 08:57:40"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"appID","paramVal":"templates"},"1":{"paramName":"appName","paramVal":"templates"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:57:47"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":37.542042,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:47"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":458.913359,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":281.090023,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:47"}
{"level":"debug","message":"[setVals.js] Set 2 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (780ms)","timestamp":"2025-11-03 08:57:47"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":779.733793,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 08:57:47"}
{"body":{"userEmail":"studio@whatsfresh.ai","values":{"0":{"paramName":"pageID","paramVal":"11"},"1":{"paramName":"pageName","paramVal":"CRUD Template"},"2":{"paramName":"xrefID","paramVal":"11"}}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/setVals","timestamp":"2025-11-03 08:57:54"}
{"level":"http","message":"[setVals.js] POST /api/setVals","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:54"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:57:54"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":223.870003,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:54"}
{"level":"warn","message":"[getVal.js] No value found for parameter: firstName","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:57:54"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":385.943853,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:57:54"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:57:54"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":340.364973,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":587.316836,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[setVals.js] Set 3 values for studio@whatsfresh.ai","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"[app.js]  Response: POST /api/setVals 200 (1545ms)","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":1544.8858129999999,"method":"POST","operation":"http_request","path":"/api/setVals","status":200},"timestamp":"2025-11-03 08:57:55"}
{"body":{"eventSQLId":"studio-xrefHierarchy","params":{"pageID":"11"},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:55"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefHierarchy","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":158.754898,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":54.653825,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[execEventType.js] Resolved from context :PageID ‚Üí 11","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[execEventType.js] Executing SQL: CALL api_wf.sp_hier_structure(11)","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:55"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:55"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 2","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":186.95657,"method":"GET","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 08:57:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: studio-xrefHierarchy (ID: 3)","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (403ms)","timestamp":"2025-11-03 08:57:56"}
{"body":{"eventSQLId":"studio-xrefProps","params":{"xrefID":65},"userEmail":"studio@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 08:57:56"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 08:57:56"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: studio-xrefProps","timestamp":"2025-11-03 08:57:56"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:57:56"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 0","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":99.206024,"method":"GET","operation":"database_query","rowCount":0,"success":true},"timestamp":"2025-11-03 08:57:56"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 404 (100ms)","timestamp":"2025-11-03 08:57:56"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":100.320356,"method":"POST","operation":"http_request","path":"/api/execEventType","status":404},"timestamp":"2025-11-03 08:57:56"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/eventTypes","timestamp":"2025-11-03 08:59:00"}
{"level":"http","message":"[getEventTypes.js] GET /api/eventTypes","timestamp":"2025-11-03 08:59:00"}
{"level":"debug","message":"[getEventTypes.js] Fetching all active eventTypes","timestamp":"2025-11-03 08:59:00"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:59:00"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:59:00"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:59:01"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":175.44322,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:59:01"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:59:01"}
{"level":"warn","message":"[getEventTypes.js] Invalid JSON in style for Modal: Bad control character in string literal in JSON at position 300 (line 12 column 21)","timestamp":"2025-11-03 08:59:01"}
{"level":"info","message":"[getEventTypes.js] Fetched 25 eventTypes","timestamp":"2025-11-03 08:59:01"}
{"level":"info","message":"[app.js]  Response: GET /api/eventTypes 200 (178ms)","timestamp":"2025-11-03 08:59:01"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/eventTypes","timestamp":"2025-11-03 08:59:06"}
{"level":"http","message":"[getEventTypes.js] GET /api/eventTypes","timestamp":"2025-11-03 08:59:06"}
{"level":"debug","message":"[getEventTypes.js] Fetching all active eventTypes","timestamp":"2025-11-03 08:59:06"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:59:06"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:59:06"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:59:06"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":512.483489,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:59:06"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:59:06"}
{"level":"warn","message":"[getEventTypes.js] Invalid JSON in style for Modal: Bad control character in string literal in JSON at position 300 (line 12 column 21)","timestamp":"2025-11-03 08:59:06"}
{"level":"info","message":"[getEventTypes.js] Fetched 25 eventTypes","timestamp":"2025-11-03 08:59:06"}
{"level":"info","message":"[app.js]  Response: GET /api/eventTypes 200 (515ms)","timestamp":"2025-11-03 08:59:06"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":514.625317,"method":"GET","operation":"http_request","path":"/api/eventTypes","status":200},"timestamp":"2025-11-03 08:59:06"}
{"level":"http","message":"[app.js]  Request","method":"GET","path":"/api/eventTypes","timestamp":"2025-11-03 08:59:11"}
{"level":"http","message":"[getEventTypes.js] GET /api/eventTypes","timestamp":"2025-11-03 08:59:11"}
{"level":"debug","message":"[getEventTypes.js] Fetching all active eventTypes","timestamp":"2025-11-03 08:59:11"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 08:59:11"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 08:59:11"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 25","timestamp":"2025-11-03 08:59:12"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":355.955887,"method":"GET","operation":"database_query","rowCount":25,"success":true},"timestamp":"2025-11-03 08:59:12"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 08:59:12"}
{"level":"warn","message":"[getEventTypes.js] Invalid JSON in style for Modal: Bad control character in string literal in JSON at position 300 (line 12 column 21)","timestamp":"2025-11-03 08:59:12"}
{"level":"info","message":"[getEventTypes.js] Fetched 25 eventTypes","timestamp":"2025-11-03 08:59:12"}
{"level":"info","message":"[app.js]  Response: GET /api/eventTypes 200 (358ms)","timestamp":"2025-11-03 08:59:12"}
{"body":{"eventSQLId":"AI-summary","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 09:00:08"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by qryName: AI-summary","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":142.049322,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: AI-summary (ID: 38)","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[execEventType.js] Executing SQL: SELECT message\nfrom api_wf.plan_communications\nwhere subject = 'AI-summary'\nLIMIT 1","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":183.82151,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 09:00:08"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"[execEventType.js] EventSQL executed successfully: AI-summary (ID: 38)","timestamp":"2025-11-03 09:00:08"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 200 (328ms)","timestamp":"2025-11-03 09:00:08"}
{"body":{"data":{"assigned_to":"","comments":"","description":"# Next Steps - Studio Authentication & Template Testing\n\n## Immediate (Priority: high)\n1. **Fix missing eventSQL queries** - Studio expects studio-xrefProps and other queries that don't exist\n2. **Test CRUD template end-to-end** - Verify AddNew, Grid, Form work after auth fixes\n3. **Fix template trigger bugs**:\n   - AddNew button triggers incomplete\n   - Grid rowActions delete missing contextKey\n   - H3 Title text prop wrong template syntax\n\n## Short Term (Priority: medium)\n1. **Solve webpack caching nightmare** - Find why CRA dev server caches so aggressively\n2. **Implement proper .env support** - Replace hardcoded userEmail with environment variables\n3. **Test clone workflow** - Verify incremental commits work from Plan 57 refactor\n4. **Build Studio clone UI** - React Flow interface for visual workflow management\n\n## Future (Priority: low)\n1. **Fix turborepo** - Get proper monorepo tooling working\n2. **Create .env loading documentation** - Document CRA env var quirks\n3. **Investigate Vite migration** - Consider moving Studio from CRA to Vite for better DX","name":"Studio Auth & Template Fixes","priority":"high","status":"pending"},"method":"INSERT","table":"api_wf.plans","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-03 09:00:25"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-03 09:00:25"}
{"data":{"assigned_to":"","comments":"","description":"# Next Steps - Studio Authentication & Template Testing\n\n## Immediate (Priority: high)\n1. **Fix missing eventSQL queries** - Studio expects studio-xrefProps and other queries that don't exist\n2. **Test CRUD template end-to-end** - Verify AddNew, Grid, Form work after auth fixes\n3. **Fix template trigger bugs**:\n   - AddNew button triggers incomplete\n   - Grid rowActions delete missing contextKey\n   - H3 Title text prop wrong template syntax\n\n## Short Term (Priority: medium)\n1. **Solve webpack caching nightmare** - Find why CRA dev server caches so aggressively\n2. **Implement proper .env support** - Replace hardcoded userEmail with environment variables\n3. **Test clone workflow** - Verify incremental commits work from Plan 57 refactor\n4. **Build Studio clone UI** - React Flow interface for visual workflow management\n\n## Future (Priority: low)\n1. **Fix turborepo** - Get proper monorepo tooling working\n2. **Create .env loading documentation** - Document CRA env var quirks\n3. **Investigate Vite migration** - Consider moving Studio from CRA to Vite for better DX","name":"Studio Auth & Template Fixes","priority":"high","status":"pending"},"level":"debug","message":"[dmlProcessor.js] Processing INSERT on api_wf.plans","timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":70.253186,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"[dmlProcessor.js] Executing INSERT SQL:","sql":"INSERT INTO api_wf.plans (name, status, priority, description, comments, assigned_to, created_at, created_by) VALUES ('Studio Auth & Template Fixes', 'pending', 'high', '# Next Steps - Studio Authentication & Template Testing\n\n## Immediate (Priority: high)\n1. **Fix missing eventSQL queries** - Studio expects studio-xrefProps and other queries that don''t exist\n2. **Test CRUD template end-to-end** - Verify AddNew, Grid, Form work after auth fixes\n3. **Fix template trigger bugs**:\n   - AddNew button triggers incomplete\n   - Grid rowActions delete missing contextKey\n   - H3 Title text prop wrong template syntax\n\n## Short Term (Priority: medium)\n1. **Solve webpack caching nightmare** - Find why CRA dev server caches so aggressively\n2. **Implement proper .env support** - Replace hardcoded userEmail with environment variables\n3. **Test clone workflow** - Verify incremental commits work from Plan 57 refactor\n4. **Build Studio clone UI** - React Flow interface for visual workflow management\n\n## Future (Priority: low)\n1. **Fix turborepo** - Get proper monorepo tooling working\n2. **Create .env loading documentation** - Document CRA env var quirks\n3. **Investigate Vite migration** - Consider moving Studio from CRA to Vite for better DX', '', '', NOW(), 'Kiro')","timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":416.239759,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 09:00:25"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"[dmlProcessor.js] INSERT executed successfully on api_wf.plans","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"[execDML.js] DML operation completed successfully","timestamp":"2025-11-03 09:00:25"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 200 (492ms)","timestamp":"2025-11-03 09:00:25"}
{"body":{"data":{"from_agent":"claude","message":"# Claude Session Summary - 2025-11-03\n\n**Focus:** Fixed getUserEmail bug, fought webpack caching for 4+ hours\n**Primary AI:** Claude\n**Related Plans:** 55-58 (Clone Template), 59 (Next Steps)\n\n---\n\n## ‚úÖ Major Accomplishments\n\n### 1. Fixed Clone Step Mock Requests (4 files)\n- Added `method` and `originalUrl` to all mock request objects\n- Fixed: loadHierarchy.js, cloneProps.js, cloneEventSQL.js, cloneTriggers.js\n- Prevents \"undefined undefined\" errors in server logs\n\n### 2. Removed Server-Only Imports from Browser Bundle\n- **Problem:** `impactFileLogger.js` uses Node.js `fs` module, can't run in browser\n- **Solution:** Removed FileImpactLogger exports from shared-imports/api/index.js\n- **Result:** Studio webpack build succeeds\n\n### 3. Implemented Environment-Based Auth Strategy\n- Created `.env` files for all apps (Studio, WhatsFresh, Admin)\n- Studio: `REACT_APP_DEFAULT_USER_EMAIL=studio@whatsfresh.ai`\n- WhatsFresh/Admin: No default (use session after login)\n- Created `getDefaultUserEmail()` helper supporting both Vite and CRA\n\n### 4. Created Cache Management Script\n- `scripts/clear-cache.sh` - Clears all webpack/babel caches\n- Added `npm run clear` to root package.json\n- Helps when editing shared-imports packages\n\n### 5. Hardcoded userEmail as Workaround\n- **After 4+ hours fighting webpack cache**, gave up on .env\n- Directly hardcoded `studio@whatsfresh.ai` in setVals.js, getVal.js, execEvent.js\n- **Finally works!** Studio makes API calls successfully\n\n---\n\n## üìä Statistics\n\n- **Files Modified:** 12\n  - 4 clone step modules (mock requests)\n  - 1 shared-imports/api/index.js (removed server imports)\n  - 3 shared-imports API files (hardcoded userEmail)\n  - 3 app .env files\n  - 1 root package.json\n- **Files Created:** 2\n  - getDefaultUserEmail.js helper\n  - scripts/clear-cache.sh\n- **Time Spent on Webpack Caching:** 4+ hours\n- **Lines Changed:** ~150\n- **Bugs Fixed:** getUserEmail 500 errors, fs module import error\n- **New Bugs Discovered:** Missing eventSQL queries (studio-xrefProps)\n\n---\n\n## üöÄ Next Steps\n\n### See Plan: 59 - Studio Auth & Template Fixes\n\n**Immediate:**\n1. Fix missing eventSQL queries for Studio\n2. Test CRUD template end-to-end\n3. Fix template trigger bugs (AddNew, Grid rowActions, H3 Title)\n\n**Medium-term:**\n1. Solve webpack caching permanently\n2. Replace hardcoded email with proper .env support\n3. Test clone workflow from Plan 57\n\n---\n\n## üí° Key Learnings\n\n### Webpack Dev Server Aggressive Caching\n**Problem:** Changes to shared-imports weren't picked up even after:\n- Clearing all caches (npm run clear)\n- Deleting node_modules\n- Full reinstall\n- Hard browser refresh (Ctrl+Shift+R)\n- Incognito mode\n\n**Symptom:** Console logs showed OLD code running even though source files had NEW code\n\n**Root cause:** CRA webpack dev server keeps bundle in memory, doesn't watch symlinked packages properly\n\n**Workaround:** Hardcode values directly instead of relying on env vars or complex imports\n\n**Long-term fix needed:** Either fix turborepo, migrate to Vite, or use npm link instead of workspaces\n\n### Create React App .env Quirks\n**Discovery:** `.env` files in CRA apps weren't being read\n- Tried: `.env` file with `REACT_APP_DEFAULT_USER_EMAIL`\n- Tried: Adding to package.json start script\n- Tried: Restarting server multiple times\n- **None worked!**\n\n**Likely cause:** CRA only reads .env at initial build, not on file change. May need full clean + rebuild.\n\n### Monorepo Without Turborepo = Pain\n**Challenges:**\n- Shared packages don't hot-reload\n- Cache invalidation is manual\n- No workspace task orchestration\n- npm workspaces alone insufficient\n\n**Impact:** Development velocity massively reduced when working on shared-imports\n\n### Server-Only vs Browser Code Separation\n**Pattern learned:** Be very careful what gets exported from shared packages\n- Browser code: No Node.js modules (fs, path, process, etc.)\n- Server code: Keep separate or use conditional imports\n- Shared packages: Export browser-safe code only\n\n**Solution:** Create separate entry points:\n- `@whatsfresh/shared-imports` (browser)\n- `@whatsfresh/shared-imports/server` (Node.js only)\n\n---\n\n## üîç Technical Decisions\n\n### 1. Hardcode vs Environment Variables\n**Decision:** Temporarily hardcode `studio@whatsfresh.ai`\n**Rationale:** 4+ hours wasted on webpack caching, need to move forward\n**Trade-off:** Technical debt, but unblocks development\n**Reversal plan:** Fix after webpack/turborepo issues resolved\n\n### 2. Remove FileImpactLogger from Browser Bundle\n**Decision:** Don't export server-only functions in main API index\n**Rationale:** Browser can't use Node.js `fs` module\n**Impact:** Kiro (server scripts) can still import directly if needed\n\n### 3. Mock Request Objects Need Full Shape\n**Decision:** Always include `method` and `originalUrl` in internal API mocks\n**Rationale:** Controllers expect these for logging\n**Pattern:** All internal calls should mimic real HTTP requests\n\n---\n\n## üêõ Unresolved Issues\n\n### 1. Webpack Caching Mystery\n- Changes to shared-imports not picked up\n- Even after clearing ALL caches\n- Source code updated but old bundle served\n- **Needs investigation** - likely webpack-dev-server bug\n\n### 2. Missing eventSQL Queries\n- Studio expects: `studio-xrefProps`, possibly others\n- Getting 404 errors when loading pages\n- **Blocks:** Studio page editing functionality\n- **Fix:** Create missing queries or update Studio code\n\n### 3. CRA .env Not Loading\n- `REACT_APP_DEFAULT_USER_EMAIL` defined but returns undefined\n- Tried multiple approaches, none worked\n- **Workaround:** Hardcoded for now\n\n---\n\n## üìÅ Files Impacted\n\n**Clone step modules:**\n1. apps/server/server/utils/cloneTemplate/steps/loadHierarchy.js\n2. apps/server/server/utils/cloneTemplate/steps/cloneProps.js\n3. apps/server/server/utils/cloneTemplate/steps/cloneEventSQL.js\n4. apps/server/server/utils/cloneTemplate/steps/cloneTriggers.js\n\n**Shared-imports:**\n5. packages/shared-imports/src/api/index.js\n6. packages/shared-imports/src/api/setVals.js\n7. packages/shared-imports/src/api/getVal.js\n8. packages/shared-imports/src/api/execEvent.js\n9. packages/shared-imports/src/api/getDefaultUserEmail.js (created)\n\n**App config:**\n10. apps/studio/.env (created)\n11. apps/whatsfresh/.env (updated)\n12. apps/admin/.env (updated)\n13. apps/studio/package.json (added env var to start script)\n\n**Scripts:**\n14. scripts/clear-cache.sh (created)\n15. package.json (added npm run clear)\n\n---\n\n**Status:** Studio auth fixed (hardcoded), but webpack caching remains unsolved. Ready to test templates once missing eventSQL queries added.\n\n**Blocker:** Missing eventSQL queries prevent Studio page editing.\n\n**Next Session:** Fix missing queries, test CRUD template, fix trigger bugs.","plan_id":0,"subject":"Studio Auth Fix - Webpack Caching Battle","to_agent":"any","type":"summary"},"method":"INSERT","table":"api_wf.plan_communications","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-03 09:01:18"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-03 09:01:18"}
{"data":{"from_agent":"claude","message":"# Claude Session Summary - 2025-11-03\n\n**Focus:** Fixed getUserEmail bug, fought webpack caching for 4+ hours\n**Primary AI:** Claude\n**Related Plans:** 55-58 (Clone Template), 59 (Next Steps)\n\n---\n\n## ‚úÖ Major Accomplishments\n\n### 1. Fixed Clone Step Mock Requests (4 files)\n- Added `method` and `originalUrl` to all mock request objects\n- Fixed: loadHierarchy.js, cloneProps.js, cloneEventSQL.js, cloneTriggers.js\n- Prevents \"undefined undefined\" errors in server logs\n\n### 2. Removed Server-Only Imports from Browser Bundle\n- **Problem:** `impactFileLogger.js` uses Node.js `fs` module, can't run in browser\n- **Solution:** Removed FileImpactLogger exports from shared-imports/api/index.js\n- **Result:** Studio webpack build succeeds\n\n### 3. Implemented Environment-Based Auth Strategy\n- Created `.env` files for all apps (Studio, WhatsFresh, Admin)\n- Studio: `REACT_APP_DEFAULT_USER_EMAIL=studio@whatsfresh.ai`\n- WhatsFresh/Admin: No default (use session after login)\n- Created `getDefaultUserEmail()` helper supporting both Vite and CRA\n\n### 4. Created Cache Management Script\n- `scripts/clear-cache.sh` - Clears all webpack/babel caches\n- Added `npm run clear` to root package.json\n- Helps when editing shared-imports packages\n\n### 5. Hardcoded userEmail as Workaround\n- **After 4+ hours fighting webpack cache**, gave up on .env\n- Directly hardcoded `studio@whatsfresh.ai` in setVals.js, getVal.js, execEvent.js\n- **Finally works!** Studio makes API calls successfully\n\n---\n\n## üìä Statistics\n\n- **Files Modified:** 12\n  - 4 clone step modules (mock requests)\n  - 1 shared-imports/api/index.js (removed server imports)\n  - 3 shared-imports API files (hardcoded userEmail)\n  - 3 app .env files\n  - 1 root package.json\n- **Files Created:** 2\n  - getDefaultUserEmail.js helper\n  - scripts/clear-cache.sh\n- **Time Spent on Webpack Caching:** 4+ hours\n- **Lines Changed:** ~150\n- **Bugs Fixed:** getUserEmail 500 errors, fs module import error\n- **New Bugs Discovered:** Missing eventSQL queries (studio-xrefProps)\n\n---\n\n## üöÄ Next Steps\n\n### See Plan: 59 - Studio Auth & Template Fixes\n\n**Immediate:**\n1. Fix missing eventSQL queries for Studio\n2. Test CRUD template end-to-end\n3. Fix template trigger bugs (AddNew, Grid rowActions, H3 Title)\n\n**Medium-term:**\n1. Solve webpack caching permanently\n2. Replace hardcoded email with proper .env support\n3. Test clone workflow from Plan 57\n\n---\n\n## üí° Key Learnings\n\n### Webpack Dev Server Aggressive Caching\n**Problem:** Changes to shared-imports weren't picked up even after:\n- Clearing all caches (npm run clear)\n- Deleting node_modules\n- Full reinstall\n- Hard browser refresh (Ctrl+Shift+R)\n- Incognito mode\n\n**Symptom:** Console logs showed OLD code running even though source files had NEW code\n\n**Root cause:** CRA webpack dev server keeps bundle in memory, doesn't watch symlinked packages properly\n\n**Workaround:** Hardcode values directly instead of relying on env vars or complex imports\n\n**Long-term fix needed:** Either fix turborepo, migrate to Vite, or use npm link instead of workspaces\n\n### Create React App .env Quirks\n**Discovery:** `.env` files in CRA apps weren't being read\n- Tried: `.env` file with `REACT_APP_DEFAULT_USER_EMAIL`\n- Tried: Adding to package.json start script\n- Tried: Restarting server multiple times\n- **None worked!**\n\n**Likely cause:** CRA only reads .env at initial build, not on file change. May need full clean + rebuild.\n\n### Monorepo Without Turborepo = Pain\n**Challenges:**\n- Shared packages don't hot-reload\n- Cache invalidation is manual\n- No workspace task orchestration\n- npm workspaces alone insufficient\n\n**Impact:** Development velocity massively reduced when working on shared-imports\n\n### Server-Only vs Browser Code Separation\n**Pattern learned:** Be very careful what gets exported from shared packages\n- Browser code: No Node.js modules (fs, path, process, etc.)\n- Server code: Keep separate or use conditional imports\n- Shared packages: Export browser-safe code only\n\n**Solution:** Create separate entry points:\n- `@whatsfresh/shared-imports` (browser)\n- `@whatsfresh/shared-imports/server` (Node.js only)\n\n---\n\n## üîç Technical Decisions\n\n### 1. Hardcode vs Environment Variables\n**Decision:** Temporarily hardcode `studio@whatsfresh.ai`\n**Rationale:** 4+ hours wasted on webpack caching, need to move forward\n**Trade-off:** Technical debt, but unblocks development\n**Reversal plan:** Fix after webpack/turborepo issues resolved\n\n### 2. Remove FileImpactLogger from Browser Bundle\n**Decision:** Don't export server-only functions in main API index\n**Rationale:** Browser can't use Node.js `fs` module\n**Impact:** Kiro (server scripts) can still import directly if needed\n\n### 3. Mock Request Objects Need Full Shape\n**Decision:** Always include `method` and `originalUrl` in internal API mocks\n**Rationale:** Controllers expect these for logging\n**Pattern:** All internal calls should mimic real HTTP requests\n\n---\n\n## üêõ Unresolved Issues\n\n### 1. Webpack Caching Mystery\n- Changes to shared-imports not picked up\n- Even after clearing ALL caches\n- Source code updated but old bundle served\n- **Needs investigation** - likely webpack-dev-server bug\n\n### 2. Missing eventSQL Queries\n- Studio expects: `studio-xrefProps`, possibly others\n- Getting 404 errors when loading pages\n- **Blocks:** Studio page editing functionality\n- **Fix:** Create missing queries or update Studio code\n\n### 3. CRA .env Not Loading\n- `REACT_APP_DEFAULT_USER_EMAIL` defined but returns undefined\n- Tried multiple approaches, none worked\n- **Workaround:** Hardcoded for now\n\n---\n\n## üìÅ Files Impacted\n\n**Clone step modules:**\n1. apps/server/server/utils/cloneTemplate/steps/loadHierarchy.js\n2. apps/server/server/utils/cloneTemplate/steps/cloneProps.js\n3. apps/server/server/utils/cloneTemplate/steps/cloneEventSQL.js\n4. apps/server/server/utils/cloneTemplate/steps/cloneTriggers.js\n\n**Shared-imports:**\n5. packages/shared-imports/src/api/index.js\n6. packages/shared-imports/src/api/setVals.js\n7. packages/shared-imports/src/api/getVal.js\n8. packages/shared-imports/src/api/execEvent.js\n9. packages/shared-imports/src/api/getDefaultUserEmail.js (created)\n\n**App config:**\n10. apps/studio/.env (created)\n11. apps/whatsfresh/.env (updated)\n12. apps/admin/.env (updated)\n13. apps/studio/package.json (added env var to start script)\n\n**Scripts:**\n14. scripts/clear-cache.sh (created)\n15. package.json (added npm run clear)\n\n---\n\n**Status:** Studio auth fixed (hardcoded), but webpack caching remains unsolved. Ready to test templates once missing eventSQL queries added.\n\n**Blocker:** Missing eventSQL queries prevent Studio page editing.\n\n**Next Session:** Fix missing queries, test CRUD template, fix trigger bugs.","plan_id":0,"subject":"Studio Auth Fix - Webpack Caching Battle","to_agent":"any","type":"summary"},"level":"debug","message":"[dmlProcessor.js] Processing INSERT on api_wf.plan_communications","timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":234.755237,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"[dmlProcessor.js] Executing INSERT SQL:","sql":"INSERT INTO api_wf.plan_communications (plan_id, from_agent, to_agent, type, subject, message, created_at, created_by) VALUES (0, 'claude', 'any', 'summary', 'Studio Auth Fix - Webpack Caching Battle', '# Claude Session Summary - 2025-11-03\n\n**Focus:** Fixed getUserEmail bug, fought webpack caching for 4+ hours\n**Primary AI:** Claude\n**Related Plans:** 55-58 (Clone Template), 59 (Next Steps)\n\n---\n\n## ‚úÖ Major Accomplishments\n\n### 1. Fixed Clone Step Mock Requests (4 files)\n- Added `method` and `originalUrl` to all mock request objects\n- Fixed: loadHierarchy.js, cloneProps.js, cloneEventSQL.js, cloneTriggers.js\n- Prevents \"undefined undefined\" errors in server logs\n\n### 2. Removed Server-Only Imports from Browser Bundle\n- **Problem:** `impactFileLogger.js` uses Node.js `fs` module, can''t run in browser\n- **Solution:** Removed FileImpactLogger exports from shared-imports/api/index.js\n- **Result:** Studio webpack build succeeds\n\n### 3. Implemented Environment-Based Auth Strategy\n- Created `.env` files for all apps (Studio, WhatsFresh, Admin)\n- Studio: `REACT_APP_DEFAULT_USER_EMAIL=studio@whatsfresh.ai`\n- WhatsFresh/Admin: No default (use session after login)\n- Created `getDefaultUserEmail()` helper supporting both Vite and CRA\n\n### 4. Created Cache Management Script\n- `scripts/clear-cache.sh` - Clears all webpack/babel caches\n- Added `npm run clear` to root package.json\n- Helps when editing shared-imports packages\n\n### 5. Hardcoded userEmail as Workaround\n- **After 4+ hours fighting webpack cache**, gave up on .env\n- Directly hardcoded `studio@whatsfresh.ai` in setVals.js, getVal.js, execEvent.js\n- **Finally works!** Studio makes API calls successfully\n\n---\n\n## üìä Statistics\n\n- **Files Modified:** 12\n  - 4 clone step modules (mock requests)\n  - 1 shared-imports/api/index.js (removed server imports)\n  - 3 shared-imports API files (hardcoded userEmail)\n  - 3 app .env files\n  - 1 root package.json\n- **Files Created:** 2\n  - getDefaultUserEmail.js helper\n  - scripts/clear-cache.sh\n- **Time Spent on Webpack Caching:** 4+ hours\n- **Lines Changed:** ~150\n- **Bugs Fixed:** getUserEmail 500 errors, fs module import error\n- **New Bugs Discovered:** Missing eventSQL queries (studio-xrefProps)\n\n---\n\n## üöÄ Next Steps\n\n### See Plan: 59 - Studio Auth & Template Fixes\n\n**Immediate:**\n1. Fix missing eventSQL queries for Studio\n2. Test CRUD template end-to-end\n3. Fix template trigger bugs (AddNew, Grid rowActions, H3 Title)\n\n**Medium-term:**\n1. Solve webpack caching permanently\n2. Replace hardcoded email with proper .env support\n3. Test clone workflow from Plan 57\n\n---\n\n## üí° Key Learnings\n\n### Webpack Dev Server Aggressive Caching\n**Problem:** Changes to shared-imports weren''t picked up even after:\n- Clearing all caches (npm run clear)\n- Deleting node_modules\n- Full reinstall\n- Hard browser refresh (Ctrl+Shift+R)\n- Incognito mode\n\n**Symptom:** Console logs showed OLD code running even though source files had NEW code\n\n**Root cause:** CRA webpack dev server keeps bundle in memory, doesn''t watch symlinked packages properly\n\n**Workaround:** Hardcode values directly instead of relying on env vars or complex imports\n\n**Long-term fix needed:** Either fix turborepo, migrate to Vite, or use npm link instead of workspaces\n\n### Create React App .env Quirks\n**Discovery:** `.env` files in CRA apps weren''t being read\n- Tried: `.env` file with `REACT_APP_DEFAULT_USER_EMAIL`\n- Tried: Adding to package.json start script\n- Tried: Restarting server multiple times\n- **None worked!**\n\n**Likely cause:** CRA only reads .env at initial build, not on file change. May need full clean + rebuild.\n\n### Monorepo Without Turborepo = Pain\n**Challenges:**\n- Shared packages don''t hot-reload\n- Cache invalidation is manual\n- No workspace task orchestration\n- npm workspaces alone insufficient\n\n**Impact:** Development velocity massively reduced when working on shared-imports\n\n### Server-Only vs Browser Code Separation\n**Pattern learned:** Be very careful what gets exported from shared packages\n- Browser code: No Node.js modules (fs, path, process, etc.)\n- Server code: Keep separate or use conditional imports\n- Shared packages: Export browser-safe code only\n\n**Solution:** Create separate entry points:\n- `@whatsfresh/shared-imports` (browser)\n- `@whatsfresh/shared-imports/server` (Node.js only)\n\n---\n\n## üîç Technical Decisions\n\n### 1. Hardcode vs Environment Variables\n**Decision:** Temporarily hardcode `studio@whatsfresh.ai`\n**Rationale:** 4+ hours wasted on webpack caching, need to move forward\n**Trade-off:** Technical debt, but unblocks development\n**Reversal plan:** Fix after webpack/turborepo issues resolved\n\n### 2. Remove FileImpactLogger from Browser Bundle\n**Decision:** Don''t export server-only functions in main API index\n**Rationale:** Browser can''t use Node.js `fs` module\n**Impact:** Kiro (server scripts) can still import directly if needed\n\n### 3. Mock Request Objects Need Full Shape\n**Decision:** Always include `method` and `originalUrl` in internal API mocks\n**Rationale:** Controllers expect these for logging\n**Pattern:** All internal calls should mimic real HTTP requests\n\n---\n\n## üêõ Unresolved Issues\n\n### 1. Webpack Caching Mystery\n- Changes to shared-imports not picked up\n- Even after clearing ALL caches\n- Source code updated but old bundle served\n- **Needs investigation** - likely webpack-dev-server bug\n\n### 2. Missing eventSQL Queries\n- Studio expects: `studio-xrefProps`, possibly others\n- Getting 404 errors when loading pages\n- **Blocks:** Studio page editing functionality\n- **Fix:** Create missing queries or update Studio code\n\n### 3. CRA .env Not Loading\n- `REACT_APP_DEFAULT_USER_EMAIL` defined but returns undefined\n- Tried multiple approaches, none worked\n- **Workaround:** Hardcoded for now\n\n---\n\n## üìÅ Files Impacted\n\n**Clone step modules:**\n1. apps/server/server/utils/cloneTemplate/steps/loadHierarchy.js\n2. apps/server/server/utils/cloneTemplate/steps/cloneProps.js\n3. apps/server/server/utils/cloneTemplate/steps/cloneEventSQL.js\n4. apps/server/server/utils/cloneTemplate/steps/cloneTriggers.js\n\n**Shared-imports:**\n5. packages/shared-imports/src/api/index.js\n6. packages/shared-imports/src/api/setVals.js\n7. packages/shared-imports/src/api/getVal.js\n8. packages/shared-imports/src/api/execEvent.js\n9. packages/shared-imports/src/api/getDefaultUserEmail.js (created)\n\n**App config:**\n10. apps/studio/.env (created)\n11. apps/whatsfresh/.env (updated)\n12. apps/admin/.env (updated)\n13. apps/studio/package.json (added env var to start script)\n\n**Scripts:**\n14. scripts/clear-cache.sh (created)\n15. package.json (added npm run clear)\n\n---\n\n**Status:** Studio auth fixed (hardcoded), but webpack caching remains unsolved. Ready to test templates once missing eventSQL queries added.\n\n**Blocker:** Missing eventSQL queries prevent Studio page editing.\n\n**Next Session:** Fix missing queries, test CRUD template, fix trigger bugs.', NOW(), 'Kiro')","timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":279.466332,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 09:01:18"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"[dmlProcessor.js] INSERT executed successfully on api_wf.plan_communications","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"[execDML.js] DML operation completed successfully","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 200 (519ms)","timestamp":"2025-11-03 09:01:18"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":518.824663,"method":"POST","operation":"http_request","path":"/api/execDML","status":200},"timestamp":"2025-11-03 09:01:18"}
{"body":{"impacts":{"0":{"affectedApps":{"0":"server"},"changeType":"MODIFY","createdBy":"claude","description":"Added method and originalUrl to mock requests\n- setVals mock: method=POST, originalUrl=/api/setVals (internal)\n- execEventType mock: method=POST, originalUrl=/api/execEventType (internal)\n- Prevents undefined logging errors","filePath":"apps/server/server/utils/cloneTemplate/steps/loadHierarchy.js"},"1":{"affectedApps":{"0":"server"},"changeType":"MODIFY","createdBy":"claude","description":"Added method and originalUrl to mock requests","filePath":"apps/server/server/utils/cloneTemplate/steps/cloneProps.js"},"10":{"affectedApps":{"0":"whatsfresh"},"changeType":"MODIFY","createdBy":"claude","description":"Added auth documentation comment\n- Explained NOT to set VITE_DEFAULT_USER_EMAIL\n- Uses session-based auth after login","filePath":"apps/whatsfresh/.env"},"11":{"affectedApps":{"0":"admin"},"changeType":"MODIFY","createdBy":"claude","description":"Added auth documentation comment\n- Explained NOT to set VITE_DEFAULT_USER_EMAIL\n- Uses session-based auth after login","filePath":"apps/admin/.env"},"12":{"affectedApps":{"0":"all"},"changeType":"CREATE","createdBy":"claude","description":"Created cache clearing script for monorepo\n- Clears webpack/babel caches for all apps\n- Clears shared-imports cache\n- Helps when editing shared packages","filePath":"scripts/clear-cache.sh"},"13":{"affectedApps":{"0":"all"},"changeType":"MODIFY","createdBy":"claude","description":"Added npm run clear script\n- Points to scripts/clear-cache.sh\n- Quick command for cache invalidation","filePath":"package.json"},"14":{"affectedApps":{"0":"studio"},"changeType":"MODIFY","createdBy":"claude","description":"Added REACT_APP_DEFAULT_USER_EMAIL to start script\n- Attempted to force env var loading\n- Did not work (webpack caching issue)","filePath":"apps/studio/package.json"},"2":{"affectedApps":{"0":"server"},"changeType":"MODIFY","createdBy":"claude","description":"Added method and originalUrl to mock requests","filePath":"apps/server/server/utils/cloneTemplate/steps/cloneEventSQL.js"},"3":{"affectedApps":{"0":"server"},"changeType":"MODIFY","createdBy":"claude","description":"Added method and originalUrl to mock requests","filePath":"apps/server/server/utils/cloneTemplate/steps/cloneTriggers.js"},"4":{"affectedApps":{"0":"studio","1":"whatsfresh","2":"admin"},"changeType":"MODIFY","createdBy":"claude","description":"Removed server-only imports from browser bundle\n- Removed FileImpactLogger imports (uses Node.js fs module)\n- Removed createSession, addFile* functions\n- Added comment directing to server.js for Node-only code","filePath":"packages/shared-imports/src/api/index.js"},"5":{"affectedApps":{"0":"studio"},"changeType":"MODIFY","createdBy":"claude","description":"Hardcoded userEmail for Studio dev mode\n- Bypassed .env loading issues\n- Hardcoded studio@whatsfresh.ai\n- Added debug logging","filePath":"packages/shared-imports/src/api/setVals.js"},"6":{"affectedApps":{"0":"studio"},"changeType":"MODIFY","createdBy":"claude","description":"Hardcoded userEmail parameter\n- Added studio@whatsfresh.ai to query params","filePath":"packages/shared-imports/src/api/getVal.js"},"7":{"affectedApps":{"0":"studio"},"changeType":"MODIFY","createdBy":"claude","description":"Hardcoded userEmail in request body\n- Added studio@whatsfresh.ai to all execEventType calls","filePath":"packages/shared-imports/src/api/execEvent.js"},"8":{"affectedApps":{"0":"all"},"changeType":"CREATE","createdBy":"claude","description":"Created helper for environment-based userEmail\n- Supports both Vite (VITE_) and CRA (REACT_APP_) env vars\n- Returns undefined if no env var found\n- (Not currently used due to webpack caching issues)","filePath":"packages/shared-imports/src/api/getDefaultUserEmail.js"},"9":{"affectedApps":{"0":"studio"},"changeType":"CREATE","createdBy":"claude","description":"Created Studio environment variables\n- REACT_APP_DEFAULT_USER_EMAIL=studio@whatsfresh.ai\n- REACT_APP_API_BASE_URL=http://localhost:3001\n- (Not loading properly - webpack issue)","filePath":"apps/studio/.env"}},"planId":0,"userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/logImpact","timestamp":"2025-11-03 09:01:44"}
{"level":"http","message":"[logImpact.js] POST /api/logImpact","timestamp":"2025-11-03 09:01:44"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 09:01:44"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 09:01:44"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":160.43978,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 09:01:44"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:01:44"}
{"level":"info","message":"[impactLogger.js] Logged 15 impacts","timestamp":"2025-11-03 09:01:44"}
{"level":"info","message":"[logImpact.js] Impact logging completed successfully","timestamp":"2025-11-03 09:01:44"}
{"level":"info","message":"[app.js]  Response: POST /api/logImpact 200 (162ms)","timestamp":"2025-11-03 09:01:44"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 09:50:53"}
{"body":{"data":{"assigned_to":"","comments":"","description":"# API Gateway Service - Eliminate Shared-Imports Cache Issues\n\n## Problem Statement\n\nWebpack/CRA dev server aggressively caches shared-imports package, making development extremely painful:\n- Changes to shared-imports not picked up even after clearing all caches\n- Must restart apps, clear browser cache, sometimes full reinstall\n- Wasted 4+ hours today fighting this issue\n- .env files not loading properly in CRA\n- Turborepo doesn't work in current setup\n\n## Solution: API Gateway Service\n\nConvert shared-imports from a **bundled package** into a **standalone HTTP service**:\n\n```\nApps (Studio, WhatsFresh, Admin)\n    ‚Üì HTTP calls\nAPI Gateway :3002\n    ‚Üì Proxy + Auth injection\nServer :3001\n```\n\n## Architecture\n\n### Gateway Responsibilities\n1. **Auth injection** - Add userEmail based on app origin or session\n2. **Proxy requests** - Forward to server with proper credentials\n3. **Caching** - Cache GET responses (getVal, etc.)\n4. **Request batching** - Combine multiple operations\n5. **WebSocket** - Real-time updates (future)\n\n### Apps Update\nReplace bundled imports with HTTP calls:\n\n```javascript\n// OLD (causes cache hell):\nimport { setVals } from '@whatsfresh/shared-imports';\nawait setVals([...]);\n\n// NEW (no bundling, no cache):\nawait fetch('http://localhost:3002/setVals', {\n  method: 'POST',\n  body: JSON.stringify({ values: [...] })\n});\n```\n\n## Implementation Plan\n\n### Phase 1: Thin Proxy (MVP)\n**Goal:** Get Studio working without cache issues\n**Effort:** 2-3 hours\n\n1. Create `apps/api-gateway/` directory\n2. Build Express server with http-proxy-middleware\n3. Inject userEmail based on request origin:\n   - Origin :3004 ‚Üí studio@whatsfresh.ai\n   - Origin :3000 ‚Üí check session or default\n   - Origin :3003 ‚Üí check session or default\n4. Proxy all /api/* requests to localhost:3001\n5. Update Studio to call gateway instead of server\n6. Test: Change gateway code, restart gateway only (not Studio)\n\n### Phase 2: Smart Features\n**Goal:** Add value beyond simple proxy\n**Effort:** 4-6 hours\n\n1. **Response caching** - Cache getVal responses (5min TTL)\n2. **Request batching** - Combine multiple setVals into one\n3. **Error handling** - Retry logic, circuit breaker\n4. **Monitoring** - Log all requests, track performance\n5. **CORS handling** - Proper CORS for all apps\n\n### Phase 3: Docker Integration\n**Goal:** Run gateway in Docker, apps native\n**Effort:** 1-2 hours\n\n1. Create Dockerfile for gateway\n2. Add to docker-compose.dev.yml\n3. Gateway in Docker, other apps native (best of both worlds)\n4. Volume mount gateway code for live reload\n\n### Phase 4: WebSocket (Future)\n**Goal:** Real-time context updates\n**Effort:** 4-8 hours\n\n1. Add Socket.io to gateway\n2. Apps subscribe to context changes\n3. Server pushes updates through gateway\n4. No more polling, instant updates\n\n## Benefits\n\n### Immediate\n‚úÖ **No more cache hell** - HTTP calls aren't bundled\n‚úÖ **Instant updates** - Change gateway, restart only gateway\n‚úÖ **No .env issues** - Auth logic in gateway, not bundled code\n‚úÖ **Centralized auth** - One place to manage userEmail injection\n‚úÖ **Better debugging** - See all API calls in gateway logs\n\n### Future\n‚úÖ **Performance** - Caching, batching, connection pooling\n‚úÖ **Monitoring** - Track which app makes which calls\n‚úÖ **Rate limiting** - Prevent abuse per app\n‚úÖ **API versioning** - /v1/setVals vs /v2/setVals\n‚úÖ **WebSocket** - Real-time updates without polling\n‚úÖ **Production ready** - Same gateway for dev and prod\n\n## Trade-offs\n\n### Pros\n- Eliminates #1 pain point (cache hell)\n- Better separation of concerns\n- Easier to add features (caching, batching, etc.)\n- One gateway serves all apps\n- Can be deployed separately\n\n### Cons\n- Extra network hop (~5-10ms latency)\n- Another service to run (but only 1 for all apps)\n- Lose TypeScript types across HTTP boundary (can generate from OpenAPI)\n- More complex architecture (but cleaner in long run)\n\n## Alternative Considered: Microservice per App (BFF)\n\nInstead of one gateway, each app gets its own:\n- Studio Gateway :3102\n- WhatsFresh Gateway :3100\n- Admin Gateway :3103\n\n**Benefits:**\n- Each gateway tailored to app needs\n- Independent deployment\n- Better isolation\n\n**Decision:** Start with single gateway, split later if needed\n\n## Success Criteria\n\n### MVP Success\n1. Studio calls gateway instead of server directly\n2. Change gateway code, restart gateway\n3. Studio picks up changes WITHOUT restart/cache clear\n4. All existing Studio functionality works\n\n### Full Success\n1. All 3 apps (Studio, WhatsFresh, Admin) use gateway\n2. Response caching improves performance\n3. Request batching reduces server load\n4. Monitoring dashboard shows API usage\n5. WebSocket provides real-time updates\n\n## Migration Strategy\n\n### Step 1: Studio Only (This Week)\n- Build gateway\n- Update Studio to use gateway\n- Test thoroughly\n- Keep other apps on direct server calls\n\n### Step 2: WhatsFresh & Admin (Next Week)\n- Once Studio stable, migrate WhatsFresh\n- Then migrate Admin\n- Eventually deprecate direct server calls\n\n### Step 3: Shared-Imports Package (Future)\n- Keep as TypeScript types only\n- Or completely remove, use OpenAPI generated types\n\n## Implementation Checklist\n\n- [ ] Create apps/api-gateway directory\n- [ ] npm init, install express, http-proxy-middleware, cors\n- [ ] Build basic proxy server (50 lines)\n- [ ] Add userEmail injection logic\n- [ ] Test with Postman/curl\n- [ ] Update Studio config to use gateway\n- [ ] Remove shared-imports from Studio (or keep for types)\n- [ ] Test Studio end-to-end\n- [ ] Add response caching\n- [ ] Add request logging\n- [ ] Create Dockerfile\n- [ ] Add to docker-compose.dev.yml\n- [ ] Document API endpoints (OpenAPI spec)\n- [ ] Generate TypeScript types from OpenAPI\n\n## Resources Needed\n\n- Express.js (already used in server)\n- http-proxy-middleware (npm package)\n- Socket.io (for WebSocket phase)\n- OpenAPI/Swagger (for documentation)\n\n## Timeline\n\n**Week 1:** MVP (thin proxy) working with Studio\n**Week 2:** Smart features (caching, batching, monitoring)\n**Week 3:** Migrate other apps, Docker integration\n**Week 4:** WebSocket, production deployment\n\n## Notes\n\n- Docker Compose already exists but not used (docker-compose-minimal.yml)\n- Dockerfiles already exist for apps\n- Can run gateway in Docker while apps run natively (hybrid approach)\n- Studio will be main focus - WhatsFresh/Admin will be rebuilt anyway","name":"API Gateway - Solve Cache Hell","priority":"high","status":"pending"},"method":"INSERT","table":"api_wf.plans","userEmail":"claude@whatsfresh.ai"},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execDML","timestamp":"2025-11-03 09:55:32"}
{"level":"http","message":"[execDML.js] POST /api/execDML","timestamp":"2025-11-03 09:55:32"}
{"data":{"assigned_to":"","comments":"","description":"# API Gateway Service - Eliminate Shared-Imports Cache Issues\n\n## Problem Statement\n\nWebpack/CRA dev server aggressively caches shared-imports package, making development extremely painful:\n- Changes to shared-imports not picked up even after clearing all caches\n- Must restart apps, clear browser cache, sometimes full reinstall\n- Wasted 4+ hours today fighting this issue\n- .env files not loading properly in CRA\n- Turborepo doesn't work in current setup\n\n## Solution: API Gateway Service\n\nConvert shared-imports from a **bundled package** into a **standalone HTTP service**:\n\n```\nApps (Studio, WhatsFresh, Admin)\n    ‚Üì HTTP calls\nAPI Gateway :3002\n    ‚Üì Proxy + Auth injection\nServer :3001\n```\n\n## Architecture\n\n### Gateway Responsibilities\n1. **Auth injection** - Add userEmail based on app origin or session\n2. **Proxy requests** - Forward to server with proper credentials\n3. **Caching** - Cache GET responses (getVal, etc.)\n4. **Request batching** - Combine multiple operations\n5. **WebSocket** - Real-time updates (future)\n\n### Apps Update\nReplace bundled imports with HTTP calls:\n\n```javascript\n// OLD (causes cache hell):\nimport { setVals } from '@whatsfresh/shared-imports';\nawait setVals([...]);\n\n// NEW (no bundling, no cache):\nawait fetch('http://localhost:3002/setVals', {\n  method: 'POST',\n  body: JSON.stringify({ values: [...] })\n});\n```\n\n## Implementation Plan\n\n### Phase 1: Thin Proxy (MVP)\n**Goal:** Get Studio working without cache issues\n**Effort:** 2-3 hours\n\n1. Create `apps/api-gateway/` directory\n2. Build Express server with http-proxy-middleware\n3. Inject userEmail based on request origin:\n   - Origin :3004 ‚Üí studio@whatsfresh.ai\n   - Origin :3000 ‚Üí check session or default\n   - Origin :3003 ‚Üí check session or default\n4. Proxy all /api/* requests to localhost:3001\n5. Update Studio to call gateway instead of server\n6. Test: Change gateway code, restart gateway only (not Studio)\n\n### Phase 2: Smart Features\n**Goal:** Add value beyond simple proxy\n**Effort:** 4-6 hours\n\n1. **Response caching** - Cache getVal responses (5min TTL)\n2. **Request batching** - Combine multiple setVals into one\n3. **Error handling** - Retry logic, circuit breaker\n4. **Monitoring** - Log all requests, track performance\n5. **CORS handling** - Proper CORS for all apps\n\n### Phase 3: Docker Integration\n**Goal:** Run gateway in Docker, apps native\n**Effort:** 1-2 hours\n\n1. Create Dockerfile for gateway\n2. Add to docker-compose.dev.yml\n3. Gateway in Docker, other apps native (best of both worlds)\n4. Volume mount gateway code for live reload\n\n### Phase 4: WebSocket (Future)\n**Goal:** Real-time context updates\n**Effort:** 4-8 hours\n\n1. Add Socket.io to gateway\n2. Apps subscribe to context changes\n3. Server pushes updates through gateway\n4. No more polling, instant updates\n\n## Benefits\n\n### Immediate\n‚úÖ **No more cache hell** - HTTP calls aren't bundled\n‚úÖ **Instant updates** - Change gateway, restart only gateway\n‚úÖ **No .env issues** - Auth logic in gateway, not bundled code\n‚úÖ **Centralized auth** - One place to manage userEmail injection\n‚úÖ **Better debugging** - See all API calls in gateway logs\n\n### Future\n‚úÖ **Performance** - Caching, batching, connection pooling\n‚úÖ **Monitoring** - Track which app makes which calls\n‚úÖ **Rate limiting** - Prevent abuse per app\n‚úÖ **API versioning** - /v1/setVals vs /v2/setVals\n‚úÖ **WebSocket** - Real-time updates without polling\n‚úÖ **Production ready** - Same gateway for dev and prod\n\n## Trade-offs\n\n### Pros\n- Eliminates #1 pain point (cache hell)\n- Better separation of concerns\n- Easier to add features (caching, batching, etc.)\n- One gateway serves all apps\n- Can be deployed separately\n\n### Cons\n- Extra network hop (~5-10ms latency)\n- Another service to run (but only 1 for all apps)\n- Lose TypeScript types across HTTP boundary (can generate from OpenAPI)\n- More complex architecture (but cleaner in long run)\n\n## Alternative Considered: Microservice per App (BFF)\n\nInstead of one gateway, each app gets its own:\n- Studio Gateway :3102\n- WhatsFresh Gateway :3100\n- Admin Gateway :3103\n\n**Benefits:**\n- Each gateway tailored to app needs\n- Independent deployment\n- Better isolation\n\n**Decision:** Start with single gateway, split later if needed\n\n## Success Criteria\n\n### MVP Success\n1. Studio calls gateway instead of server directly\n2. Change gateway code, restart gateway\n3. Studio picks up changes WITHOUT restart/cache clear\n4. All existing Studio functionality works\n\n### Full Success\n1. All 3 apps (Studio, WhatsFresh, Admin) use gateway\n2. Response caching improves performance\n3. Request batching reduces server load\n4. Monitoring dashboard shows API usage\n5. WebSocket provides real-time updates\n\n## Migration Strategy\n\n### Step 1: Studio Only (This Week)\n- Build gateway\n- Update Studio to use gateway\n- Test thoroughly\n- Keep other apps on direct server calls\n\n### Step 2: WhatsFresh & Admin (Next Week)\n- Once Studio stable, migrate WhatsFresh\n- Then migrate Admin\n- Eventually deprecate direct server calls\n\n### Step 3: Shared-Imports Package (Future)\n- Keep as TypeScript types only\n- Or completely remove, use OpenAPI generated types\n\n## Implementation Checklist\n\n- [ ] Create apps/api-gateway directory\n- [ ] npm init, install express, http-proxy-middleware, cors\n- [ ] Build basic proxy server (50 lines)\n- [ ] Add userEmail injection logic\n- [ ] Test with Postman/curl\n- [ ] Update Studio config to use gateway\n- [ ] Remove shared-imports from Studio (or keep for types)\n- [ ] Test Studio end-to-end\n- [ ] Add response caching\n- [ ] Add request logging\n- [ ] Create Dockerfile\n- [ ] Add to docker-compose.dev.yml\n- [ ] Document API endpoints (OpenAPI spec)\n- [ ] Generate TypeScript types from OpenAPI\n\n## Resources Needed\n\n- Express.js (already used in server)\n- http-proxy-middleware (npm package)\n- Socket.io (for WebSocket phase)\n- OpenAPI/Swagger (for documentation)\n\n## Timeline\n\n**Week 1:** MVP (thin proxy) working with Studio\n**Week 2:** Smart features (caching, batching, monitoring)\n**Week 3:** Migrate other apps, Docker integration\n**Week 4:** WebSocket, production deployment\n\n## Notes\n\n- Docker Compose already exists but not used (docker-compose-minimal.yml)\n- Dockerfiles already exist for apps\n- Can run gateway in Docker while apps run natively (hybrid approach)\n- Studio will be main focus - WhatsFresh/Admin will be rebuilt anyway","name":"API Gateway - Solve Cache Hell","priority":"high","status":"pending"},"level":"debug","message":"[dmlProcessor.js] Processing INSERT on api_wf.plans","timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":664.382877,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"[dmlProcessor.js] Executing INSERT SQL:","sql":"INSERT INTO api_wf.plans (name, status, priority, description, comments, assigned_to, created_at, created_by) VALUES ('API Gateway - Solve Cache Hell', 'pending', 'high', '# API Gateway Service - Eliminate Shared-Imports Cache Issues\n\n## Problem Statement\n\nWebpack/CRA dev server aggressively caches shared-imports package, making development extremely painful:\n- Changes to shared-imports not picked up even after clearing all caches\n- Must restart apps, clear browser cache, sometimes full reinstall\n- Wasted 4+ hours today fighting this issue\n- .env files not loading properly in CRA\n- Turborepo doesn''t work in current setup\n\n## Solution: API Gateway Service\n\nConvert shared-imports from a **bundled package** into a **standalone HTTP service**:\n\n```\nApps (Studio, WhatsFresh, Admin)\n    ‚Üì HTTP calls\nAPI Gateway :3002\n    ‚Üì Proxy + Auth injection\nServer :3001\n```\n\n## Architecture\n\n### Gateway Responsibilities\n1. **Auth injection** - Add userEmail based on app origin or session\n2. **Proxy requests** - Forward to server with proper credentials\n3. **Caching** - Cache GET responses (getVal, etc.)\n4. **Request batching** - Combine multiple operations\n5. **WebSocket** - Real-time updates (future)\n\n### Apps Update\nReplace bundled imports with HTTP calls:\n\n```javascript\n// OLD (causes cache hell):\nimport { setVals } from ''@whatsfresh/shared-imports'';\nawait setVals([...]);\n\n// NEW (no bundling, no cache):\nawait fetch(''http://localhost:3002/setVals'', {\n  method: ''POST'',\n  body: JSON.stringify({ values: [...] })\n});\n```\n\n## Implementation Plan\n\n### Phase 1: Thin Proxy (MVP)\n**Goal:** Get Studio working without cache issues\n**Effort:** 2-3 hours\n\n1. Create `apps/api-gateway/` directory\n2. Build Express server with http-proxy-middleware\n3. Inject userEmail based on request origin:\n   - Origin :3004 ‚Üí studio@whatsfresh.ai\n   - Origin :3000 ‚Üí check session or default\n   - Origin :3003 ‚Üí check session or default\n4. Proxy all /api/* requests to localhost:3001\n5. Update Studio to call gateway instead of server\n6. Test: Change gateway code, restart gateway only (not Studio)\n\n### Phase 2: Smart Features\n**Goal:** Add value beyond simple proxy\n**Effort:** 4-6 hours\n\n1. **Response caching** - Cache getVal responses (5min TTL)\n2. **Request batching** - Combine multiple setVals into one\n3. **Error handling** - Retry logic, circuit breaker\n4. **Monitoring** - Log all requests, track performance\n5. **CORS handling** - Proper CORS for all apps\n\n### Phase 3: Docker Integration\n**Goal:** Run gateway in Docker, apps native\n**Effort:** 1-2 hours\n\n1. Create Dockerfile for gateway\n2. Add to docker-compose.dev.yml\n3. Gateway in Docker, other apps native (best of both worlds)\n4. Volume mount gateway code for live reload\n\n### Phase 4: WebSocket (Future)\n**Goal:** Real-time context updates\n**Effort:** 4-8 hours\n\n1. Add Socket.io to gateway\n2. Apps subscribe to context changes\n3. Server pushes updates through gateway\n4. No more polling, instant updates\n\n## Benefits\n\n### Immediate\n‚úÖ **No more cache hell** - HTTP calls aren''t bundled\n‚úÖ **Instant updates** - Change gateway, restart only gateway\n‚úÖ **No .env issues** - Auth logic in gateway, not bundled code\n‚úÖ **Centralized auth** - One place to manage userEmail injection\n‚úÖ **Better debugging** - See all API calls in gateway logs\n\n### Future\n‚úÖ **Performance** - Caching, batching, connection pooling\n‚úÖ **Monitoring** - Track which app makes which calls\n‚úÖ **Rate limiting** - Prevent abuse per app\n‚úÖ **API versioning** - /v1/setVals vs /v2/setVals\n‚úÖ **WebSocket** - Real-time updates without polling\n‚úÖ **Production ready** - Same gateway for dev and prod\n\n## Trade-offs\n\n### Pros\n- Eliminates #1 pain point (cache hell)\n- Better separation of concerns\n- Easier to add features (caching, batching, etc.)\n- One gateway serves all apps\n- Can be deployed separately\n\n### Cons\n- Extra network hop (~5-10ms latency)\n- Another service to run (but only 1 for all apps)\n- Lose TypeScript types across HTTP boundary (can generate from OpenAPI)\n- More complex architecture (but cleaner in long run)\n\n## Alternative Considered: Microservice per App (BFF)\n\nInstead of one gateway, each app gets its own:\n- Studio Gateway :3102\n- WhatsFresh Gateway :3100\n- Admin Gateway :3103\n\n**Benefits:**\n- Each gateway tailored to app needs\n- Independent deployment\n- Better isolation\n\n**Decision:** Start with single gateway, split later if needed\n\n## Success Criteria\n\n### MVP Success\n1. Studio calls gateway instead of server directly\n2. Change gateway code, restart gateway\n3. Studio picks up changes WITHOUT restart/cache clear\n4. All existing Studio functionality works\n\n### Full Success\n1. All 3 apps (Studio, WhatsFresh, Admin) use gateway\n2. Response caching improves performance\n3. Request batching reduces server load\n4. Monitoring dashboard shows API usage\n5. WebSocket provides real-time updates\n\n## Migration Strategy\n\n### Step 1: Studio Only (This Week)\n- Build gateway\n- Update Studio to use gateway\n- Test thoroughly\n- Keep other apps on direct server calls\n\n### Step 2: WhatsFresh & Admin (Next Week)\n- Once Studio stable, migrate WhatsFresh\n- Then migrate Admin\n- Eventually deprecate direct server calls\n\n### Step 3: Shared-Imports Package (Future)\n- Keep as TypeScript types only\n- Or completely remove, use OpenAPI generated types\n\n## Implementation Checklist\n\n- [ ] Create apps/api-gateway directory\n- [ ] npm init, install express, http-proxy-middleware, cors\n- [ ] Build basic proxy server (50 lines)\n- [ ] Add userEmail injection logic\n- [ ] Test with Postman/curl\n- [ ] Update Studio config to use gateway\n- [ ] Remove shared-imports from Studio (or keep for types)\n- [ ] Test Studio end-to-end\n- [ ] Add response caching\n- [ ] Add request logging\n- [ ] Create Dockerfile\n- [ ] Add to docker-compose.dev.yml\n- [ ] Document API endpoints (OpenAPI spec)\n- [ ] Generate TypeScript types from OpenAPI\n\n## Resources Needed\n\n- Express.js (already used in server)\n- http-proxy-middleware (npm package)\n- Socket.io (for WebSocket phase)\n- OpenAPI/Swagger (for documentation)\n\n## Timeline\n\n**Week 1:** MVP (thin proxy) working with Studio\n**Week 2:** Smart features (caching, batching, monitoring)\n**Week 3:** Migrate other apps, Docker integration\n**Week 4:** WebSocket, production deployment\n\n## Notes\n\n- Docker Compose already exists but not used (docker-compose-minimal.yml)\n- Dockerfiles already exist for apps\n- Can run gateway in Docker while apps run natively (hybrid approach)\n- Studio will be main focus - WhatsFresh/Admin will be rebuilt anyway', '', '', NOW(), 'Kiro')","timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Executing POST query: ********","timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Handling POST-specific logic","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":149.093902,"method":"POST","operation":"database_query","rowCount":2,"success":true},"timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"[dmlProcessor.js] INSERT executed successfully on api_wf.plans","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"[execDML.js] DML operation completed successfully","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"[app.js]  Response: POST /api/execDML 200 (816ms)","timestamp":"2025-11-03 09:55:32"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":816.131682,"method":"POST","operation":"http_request","path":"/api/execDML","status":200},"timestamp":"2025-11-03 09:55:32"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 10:52:43"}
{"body":{"eventSQLId":27,"params":{"firstName":"analyze-script","p_modules":"[{\"file_path\":\".claude/routing/AgentDirector.js\"},{\"file_path\":\".claude/routing/AgentRouter.js\"},{\"file_path\":\".claude/routing/RegistryBuilder.js\"},{\"file_path\":\".claude/routing/test-agent-system.js\"},{\"file_path\":\".claude/routing/test-director.js\"},{\"file_path\":\".claude/routing/test-enhanced-director.js\"},{\"file_path\":\".dependency-cruiser.js\"},{\"file_path\":\".kiro/0019/specs/code-references.js\"},{\"file_path\":\".kiro/workflows/createRoadmap.js\"},{\"file_path\":\".vscode/extensions/task-router/GeminiChatPanel.ts\"},{\"file_path\":\".vscode/extensions/task-router/extension.js\"},{\"file_path\":\".vscode/extensions/task-router/types.ts\"},{\"file_path\":\"analysis-n-document/genDocs/analyze-app.js\"},{\"file_path\":\"analysis-n-document/genDocs/analyze-dead-code.js\"},{\"file_path\":\"analysis-n-document/genDocs/create-load-files.js\"},{\"file_path\":\"analysis-n-document/genDocs/enhance-madge.js\"},{\"file_path\":\"analysis-n-document/genDocs/populate-modules-db.js\"},{\"file_path\":\"analysis-n-document/genDocs/test-transform.js\"},{\"file_path\":\"apps/admin/craco.config.js\"},{\"file_path\":\"apps/admin/src/App.jsx\"},{\"file_path\":\"apps/admin/src/config/navigation.js\"},{\"file_path\":\"apps/admin/src/config/routes.js\"},{\"file_path\":\"apps/admin/src/index.js\"},{\"file_path\":\"apps/admin/src/navigation/sidebar.js\"},{\"file_path\":\"apps/admin/src/pages/01-acctList/pageMap.js\"},{\"file_path\":\"apps/admin/src/pages/02-userList/pageMap.js\"},{\"file_path\":\"apps/admin/src/pages/acctList/index.js\"},{\"file_path\":\"apps/admin/src/pages/userList/index.js\"},{\"file_path\":\"apps/admin/src/theme.js\"},{\"file_path\":\"apps/login/src/App.jsx\"},{\"file_path\":\"apps/login/src/index.js\"},{\"file_path\":\"apps/login/src/pages/LoginPage.jsx\"},{\"file_path\":\"apps/planner/craco.config.js\"},{\"file_path\":\"apps/planner/src/App.jsx\"},{\"file_path\":\"apps/planner/src/components/ConfigGrid.jsx\"},{\"file_path\":\"apps/planner/src/components/EventOrchestrator.jsx\"},{\"file_path\":\"apps/planner/src/components/PageRenderer.jsx\"},{\"file_path\":\"apps/planner/src/components/SimpleLayout.jsx\"},{\"file_path\":\"apps/planner/src/config/navigation.js\"},{\"file_path\":\"apps/planner/src/config/routes.js\"},{\"file_path\":\"apps/planner/src/config/selectVals.js\"},{\"file_path\":\"apps/planner/src/config/selectValsData.js\"},{\"file_path\":\"apps/planner/src/index.js\"},{\"file_path\":\"apps/planner/src/layouts/appbar.js\"},{\"file_path\":\"apps/planner/src/layouts/sidebar.js\"},{\"file_path\":\"apps/planner/src/styles/components/FormComponent.css\"},{\"file_path\":\"apps/planner/src/styles/components/GenericRenderer.css\"},{\"file_path\":\"apps/planner/src/styles/components/GridComponent.css\"},{\"file_path\":\"apps/planner/src/styles/components/PageLayout.css\"},{\"file_path\":\"apps/planner/src/styles/components/TabComponent.css\"},{\"file_path\":\"apps/planner/src/styles/components/TabsContainer.css\"},{\"file_path\":\"apps/planner/src/styles/global.css\"},{\"file_path\":\"apps/planner/src/utils/eventTypeIntegration.js\"},{\"file_path\":\"apps/planner/src/utils/impactTracking.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/core/createRecord.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/core/execEvent.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/core/refreshContext.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/core/updateRecord.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/core/validateAccess.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/createCommunication.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/createPlanImpact.js\"},{\"file_path\":\"apps/planner/src/workflows/planManager/index.js\"},{\"file_path\":\"apps/server/postcss.config.js\"},{\"file_path\":\"apps/server/server/app.js\"},{\"file_path\":\"apps/server/server/controller/clearVals.js\"},{\"file_path\":\"apps/server/server/controller/cloneStep.js\"},{\"file_path\":\"apps/server/server/controller/execCreateDoc.js\"},{\"file_path\":\"apps/server/server/controller/execDML.js\"},{\"file_path\":\"apps/server/server/controller/execEventType.js\"},{\"file_path\":\"apps/server/server/controller/fetchEventType.js\"},{\"file_path\":\"apps/server/server/controller/genFields.js\"},{\"file_path\":\"apps/server/server/controller/genPageConfigController.js\"},{\"file_path\":\"apps/server/server/controller/getDoc.js\"},{\"file_path\":\"apps/server/server/controller/getEventTypes.js\"},{\"file_path\":\"apps/server/server/controller/getMigrationStatus.js\"},{\"file_path\":\"apps/server/server/controller/getTriggers.js\"},{\"file_path\":\"apps/server/server/controller/getVal.js\"},{\"file_path\":\"apps/server/server/controller/githubController.js\"},{\"file_path\":\"apps/server/server/controller/initialize.js\"},{\"file_path\":\"apps/server/server/controller/listRegisteredRoutes.js\"},{\"file_path\":\"apps/server/server/controller/logImpact.js\"},{\"file_path\":\"apps/server/server/controller/openTerminal.js\"},{\"file_path\":\"apps/server/server/controller/restartServer.js\"},{\"file_path\":\"apps/server/server/controller/runMigration.js\"},{\"file_path\":\"apps/server/server/controller/setVals.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery/discoverApps.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery/discoverEventTypes.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery/discoverPages.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery/discoverTemplates.js\"},{\"file_path\":\"apps/server/server/controller/studioDiscovery/index.js\"},{\"file_path\":\"apps/server/server/controller/userLogin.js\"},{\"file_path\":\"apps/server/server/events/admin/acctList.js\"},{\"file_path\":\"apps/server/server/events/admin/index.js\"},{\"file_path\":\"apps/server/server/events/admin/userList.js\"},{\"file_path\":\"apps/server/server/events/admin/userLogin.js\"},{\"file_path\":\"apps/server/server/events/client/brndList.js\"},{\"file_path\":\"apps/server/server/events/client/btchMapping.js\"},{\"file_path\":\"apps/server/server/events/client/gridAvailable.js\"},{\"file_path\":\"apps/server/server/events/client/gridMapped.js\"},{\"file_path\":\"apps/server/server/events/client/gridRcpe.js\"},{\"file_path\":\"apps/server/server/events/client/index.js\"},{\"file_path\":\"apps/server/server/events/client/ingrBtchList.js\"},{\"file_path\":\"apps/server/server/events/client/ingrList.js\"},{\"file_path\":\"apps/server/server/events/client/ingrTypeList.js\"},{\"file_path\":\"apps/server/server/events/client/measList.js\"},{\"file_path\":\"apps/server/server/events/client/prodBtchList.js\"},{\"file_path\":\"apps/server/server/events/client/prodList.js\"},{\"file_path\":\"apps/server/server/events/client/prodListAll.js\"},{\"file_path\":\"apps/server/server/events/client/prodTypeList.js\"},{\"file_path\":\"apps/server/server/events/client/rcpeList.js\"},{\"file_path\":\"apps/server/server/events/client/rptWrkShtIngr.js\"},{\"file_path\":\"apps/server/server/events/client/rptWrkShtTask.js\"},{\"file_path\":\"apps/server/server/events/client/taskList.js\"},{\"file_path\":\"apps/server/server/events/client/userAcctList.js\"},{\"file_path\":\"apps/server/server/events/client/userLogin.js\"},{\"file_path\":\"apps/server/server/events/client/vndrList.js\"},{\"file_path\":\"apps/server/server/events/client/wrkrList.js\"},{\"file_path\":\"apps/server/server/events/index.js\"},{\"file_path\":\"apps/server/server/events/plans/index.js\"},{\"file_path\":\"apps/server/server/events/plans/planCommDtl.js\"},{\"file_path\":\"apps/server/server/events/plans/planCommList.js\"},{\"file_path\":\"apps/server/server/events/plans/planDtl.js\"},{\"file_path\":\"apps/server/server/events/plans/planImpactDtl.js\"},{\"file_path\":\"apps/server/server/events/plans/planImpactList.js\"},{\"file_path\":\"apps/server/server/events/plans/planList.js\"},{\"file_path\":\"apps/server/server/middleware/errorHandler.js\"},{\"file_path\":\"apps/server/server/middleware/security.js\"},{\"file_path\":\"apps/server/server/routes/index.js\"},{\"file_path\":\"apps/server/server/routes/registerRoutes.js\"},{\"file_path\":\"apps/server/server/server.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/helpers/buildSQL.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/helpers/getNextID.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/helpers/replaceTokens.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/sessionManager.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/steps/cloneComponents.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/steps/cloneEventSQL.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/steps/cloneProps.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/steps/cloneTriggers.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/steps/loadHierarchy.js\"},{\"file_path\":\"apps/server/server/utils/cloneTemplate/testSession.js\"},{\"file_path\":\"apps/server/server/utils/dbManager.js\"},{\"file_path\":\"apps/server/server/utils/dbUtils.js\"},{\"file_path\":\"apps/server/server/utils/dml/dmlProcessor.js\"},{\"file_path\":\"apps/server/server/utils/dml/sqlBuilder.js\"},{\"file_path\":\"apps/server/server/utils/enhanceErrorResponse.js\"},{\"file_path\":\"apps/server/server/utils/executeEventType.js\"},{\"file_path\":\"apps/server/server/utils/getUserEmail.js\"},{\"file_path\":\"apps/server/server/utils/impactLogger.js\"},{\"file_path\":\"apps/server/server/utils/logger.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/astParser.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/componentCleaner.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/hierarchyResolver.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/index.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/mermaidGenerator.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/propsRetriever.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/registryBuilder.js\"},{\"file_path\":\"apps/server/server/utils/pageConfig/triggersRetriever.js\"},{\"file_path\":\"apps/server/server/utils/posOrderParser.js\"},{\"file_path\":\"apps/server/server/utils/queryResolver.js\"},{\"file_path\":\"apps/server/server/utils/templateRegistry.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/DatabaseWriter.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/ImpactGenerator.server.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/ImpactTracker.server.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/PlanResolver.server.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/config.js\"},{\"file_path\":\"apps/server/server/workflows/impact-tracking/index.js\"},{\"file_path\":\"apps/server/tailwind.config.js\"},{\"file_path\":\"apps/studio/craco.config.js\"},{\"file_path\":\"apps/studio/scripts/architecture/generate-grid-docs.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/forms/formPlan.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/forms/formPlanComm.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/forms/formPlanImpact.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/grids/gridPlanComms.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/grids/gridPlanImpacts.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/grids/gridPlans.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/index.jsx\"},{\"file_path\":\"apps/studio/scripts/old-pages/page/pagePlanManager.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/tabs/tabPlan.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/tabs/tabPlanComms.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/tabs/tabPlanImpacts.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/tabs/tabsPlanTabs.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/widgets/btnCreate.js\"},{\"file_path\":\"apps/studio/scripts/old-pages/widgets/selectPlanStatus.js\"},{\"file_path\":\"apps/studio/scripts/utils/targetedAnalysis.js\"},{\"file_path\":\"apps/studio/scripts/utils/writeSchema.js\"},{\"file_path\":\"apps/studio/scripts/workflows/studioPipelineBridge.js\"},{\"file_path\":\"apps/studio/src/App.jsx\"},{\"file_path\":\"apps/studio/src/apps/plans/layout/appbar.js\"},{\"file_path\":\"apps/studio/src/apps/plans/layout/sidebar.js\"},{\"file_path\":\"apps/studio/src/apps/plans/pages/Dashboard/index.jsx\"},{\"file_path\":\"apps/studio/src/apps/plans/pages/Dashboard/page/pageDashboard.js\"},{\"file_path\":\"apps/studio/src/apps/plans/pages/SketchPad/index.jsx\"},{\"file_path\":\"apps/studio/src/apps/plans/pages/SketchPad/page/pageSketchPad.js\"},{\"file_path\":\"apps/studio/src/apps/shared/page/pageLogin.js\"},{\"file_path\":\"apps/studio/src/components/ComponentPropertiesPanel.jsx\"},{\"file_path\":\"apps/studio/src/components/DBBrowserModal.jsx\"},{\"file_path\":\"apps/studio/src/components/EventPreviewView.jsx\"},{\"file_path\":\"apps/studio/src/components/FloatingActionButton.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/ContainerNode.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/DefaultNode.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/FormNode.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/GridNode.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/PageNode.jsx\"},{\"file_path\":\"apps/studio/src/components/FlowNodes/nodeStyles.js\"},{\"file_path\":\"apps/studio/src/components/IssuesModal.jsx\"},{\"file_path\":\"apps/studio/src/components/MigrationPage.jsx\"},{\"file_path\":\"apps/studio/src/components/PageDraftControls.jsx\"},{\"file_path\":\"apps/studio/src/components/PageFlowCanvas.jsx\"},{\"file_path\":\"apps/studio/src/components/PagePreviewPanel.jsx\"},{\"file_path\":\"apps/studio/src/components/PreviewActions.jsx\"},{\"file_path\":\"apps/studio/src/components/PreviewModal.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/ColumnEditor.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/ColumnList.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/ColumnSelector.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/OverrideEditor.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/ParamEditor.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/PreviewPane.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/QuerySetup.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/SchemaViewer.jsx\"},{\"file_path\":\"apps/studio/src/components/PropertyEditors/TriggerBuilder.jsx\"},{\"file_path\":\"apps/studio/src/components/StudioCanvasWrapper.jsx\"},{\"file_path\":\"apps/studio/src/components/StudioLayout.jsx\"},{\"file_path\":\"apps/studio/src/components/StudioSidebar.jsx\"},{\"file_path\":\"apps/studio/src/components/SyncControls.jsx\"},{\"file_path\":\"apps/studio/src/config/navigation.js\"},{\"file_path\":\"apps/studio/src/config/preview-routes.js\"},{\"file_path\":\"apps/studio/src/config/routes.js\"},{\"file_path\":\"apps/studio/src/db/operations/componentOps.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/delete.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/index.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/insert.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/read.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/sync.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventComp_xref/update.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/delete.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/index.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/insert.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/read.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/sync.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventProps/update.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/delete.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/index.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/insert.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/read.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/sync.js\"},{\"file_path\":\"apps/studio/src/db/operations/eventTriggers/update.js\"},{\"file_path\":\"apps/studio/src/db/operations/index.js\"},{\"file_path\":\"apps/studio/src/db/operations/lifecycleOps.js\"},{\"file_path\":\"apps/studio/src/db/operations/propOps.js\"},{\"file_path\":\"apps/studio/src/db/operations/syncOps.js\"},{\"file_path\":\"apps/studio/src/db/operations/triggerOps.js\"},{\"file_path\":\"apps/studio/src/db/references/index.js\"},{\"file_path\":\"apps/studio/src/db/references/masterDataOps.js\"},{\"file_path\":\"apps/studio/src/db/studioDb.js\"},{\"file_path\":\"apps/studio/src/db/versions/index.js\"},{\"file_path\":\"apps/studio/src/db/versions/v01.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/columnLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/componentLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/containerLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/modalLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/sectionLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/containers/tabLayout.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/dataBinding.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/page/pageRouting.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/shared/basics.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/shared/button.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/shared/textLine.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/shared/workflowTriggers.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/shared/workflows.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/widgets/chart.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/widgets/dbQuery.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/widgets/formOverrides.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/widgets/gridOverrides.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/cards/widgets/select.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/app/app.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/app/layout/appbar.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/app/layout/sidebar.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/containers/column.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/containers/modal.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/containers/section.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/containers/tabs.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/page/page.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/widgets/button.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/widgets/chart.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/widgets/form.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/widgets/grid.js\"},{\"file_path\":\"apps/studio/src/eventBuilders/templates/widgets/select.js\"},{\"file_path\":\"apps/studio/src/hooks/useReactFlowPersistence.js\"},{\"file_path\":\"apps/studio/src/index.js\"},{\"file_path\":\"apps/studio/src/layouts/SimpleLayout.jsx\"},{\"file_path\":\"apps/studio/src/preview/login/loginPage/index.jsx\"},{\"file_path\":\"apps/studio/src/preview/login/loginPage/pageConfig.json\"},{\"file_path\":\"apps/studio/src/preview/whatsfresh/ingrPage/index.jsx\"},{\"file_path\":\"apps/studio/src/preview/whatsfresh/ingrPage/pageConfig.json\"},{\"file_path\":\"apps/studio/src/preview/whatsfresh/ingrTypePage/index.jsx\"},{\"file_path\":\"apps/studio/src/preview/whatsfresh/ingrTypePage/pageConfig.json\"},{\"file_path\":\"apps/studio/src/rendering/DirectRenderer.jsx\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/TriggerEngine.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/WorkflowEngine.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/execFunction.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/index.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/buildDMLData.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/captureFormData.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/clearVals.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/closeModal.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/execDML.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/execEvent.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/getMermaidContent.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/getVal.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/navigate.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/openModal.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/refresh.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/reload.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/setVals.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/showNotification.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/userLogin.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/action/visible.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/class/onLoad.js\"},{\"file_path\":\"apps/studio/src/rendering/WorkflowEngine/triggers/class/onRefresh.js\"},{\"file_path\":\"apps/studio/src/rendering/hooks/useModalManager.js\"},{\"file_path\":\"apps/studio/src/rendering/hooks/useTemplateLoader.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/appLayoutRenderer.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/eventHandlerBuilder.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/layoutUtils.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/rowRenderer.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/styleUtils.js\"},{\"file_path\":\"apps/studio/src/rendering/utils/textRenderer.js\"},{\"file_path\":\"apps/studio/src/stores/studioStore.js\"},{\"file_path\":\"apps/studio/src/styles/global.css\"},{\"file_path\":\"apps/studio/src/utils/addFieldAttributes.js\"},{\"file_path\":\"apps/studio/src/utils/componentConfigBuilder.js\"},{\"file_path\":\"apps/studio/src/utils/formatProps.js\"},{\"file_path\":\"apps/studio/src/utils/genPageConfig.js\"},{\"file_path\":\"apps/studio/src/utils/mermaidLoader.js\"},{\"file_path\":\"apps/studio/src/utils/normalizeSQL.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/componentBuilder.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/dataFetcher.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/formatPageConfig.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/genButton.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/genForm.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/genGrid.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/genMermaid.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/index.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/positionParser.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigBuilder/triggersBuilder.js\"},{\"file_path\":\"apps/studio/src/utils/pageConfigToFlow.js\"},{\"file_path\":\"apps/studio/src/utils/pageLoader.js\"},{\"file_path\":\"apps/studio/src/utils/parseTableSchema.js\"},{\"file_path\":\"apps/studio/src/utils/queryDiscovery.js\"},{\"file_path\":\"apps/studio/src/utils/referenceLoaders.js\"},{\"file_path\":\"apps/studio/src/utils/studioAppDiscovery.js\"},{\"file_path\":\"apps/studio/src/workflows/genFields.js\"},{\"file_path\":\"apps/studio/src/workflows/unifiedGenFields.js\"},{\"file_path\":\"apps/whatsfresh/.storybook/main.js\"},{\"file_path\":\"apps/whatsfresh/babel.config.js\"},{\"file_path\":\"apps/whatsfresh/craco.config.js\"},{\"file_path\":\"apps/whatsfresh/postcss.config.js\"},{\"file_path\":\"apps/whatsfresh/src/App.jsx\"},{\"file_path\":\"apps/whatsfresh/src/api/api.js\"},{\"file_path\":\"apps/whatsfresh/src/components/reports/WorksheetGenerator.jsx\"},{\"file_path\":\"apps/whatsfresh/src/components/reports/WorksheetPDF.jsx\"},{\"file_path\":\"apps/whatsfresh/src/config/appbar.js\"},{\"file_path\":\"apps/whatsfresh/src/config/navigation.js\"},{\"file_path\":\"apps/whatsfresh/src/config/routes.js\"},{\"file_path\":\"apps/whatsfresh/src/hooks/useEntityNames.js\"},{\"file_path\":\"apps/whatsfresh/src/hooks/usePageHeader.js\"},{\"file_path\":\"apps/whatsfresh/src/index.css\"},{\"file_path\":\"apps/whatsfresh/src/index.js\"},{\"file_path\":\"apps/whatsfresh/src/layouts/AuthLayout.jsx\"},{\"file_path\":\"apps/whatsfresh/src/layouts/BatchMapping.jsx\"},{\"file_path\":\"apps/whatsfresh/src/layouts/RecipeLayout.jsx\"},{\"file_path\":\"apps/whatsfresh/src/models/NavigationItem.js\"},{\"file_path\":\"apps/whatsfresh/src/navigation/config.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/archDashboard/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/brndList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/brndList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/btchMapping/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/btchMapping/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/dashboard/Presenter.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/dashboard/View.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/dashboard/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrBtchList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrBtchList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrTypeList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/ingrTypeList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/login/index.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/measList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/measList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodBtchList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodBtchList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodTypeList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/prodTypeList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/rcpeList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/rcpeList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/taskList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/taskList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/userLogin/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/userLogin/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/vndrList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/vndrList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/pages/wrkrList/index.jsx\"},{\"file_path\":\"apps/whatsfresh/src/pages/wrkrList/pageMap.js\"},{\"file_path\":\"apps/whatsfresh/src/services/navService.js\"},{\"file_path\":\"apps/whatsfresh/src/stores/index.js\"},{\"file_path\":\"apps/whatsfresh/src/stores/pageStore.jsx\"},{\"file_path\":\"apps/whatsfresh/src/theme.js\"},{\"file_path\":\"apps/whatsfresh/src/utils/logger.js\"},{\"file_path\":\"apps/whatsfresh/tailwind.config.js\"},{\"file_path\":\"apps/whatsfresh/unimported.config.js\"},{\"file_path\":\"cli/ModelExecutor.js\"},{\"file_path\":\"cli/TaskRouter.js\"},{\"file_path\":\"cli/generate-prompt.js\"},{\"file_path\":\"cli/route-task.js\"},{\"file_path\":\"cli/services/ModelService.js\"},{\"file_path\":\"cli/toolsets/1-simple/patterns.ts\"},{\"file_path\":\"cli/toolsets/1-simple/runner.ts\"},{\"file_path\":\"cli/toolsets/2-structured/patterns.ts\"},{\"file_path\":\"cli/toolsets/2-structured/runner.ts\"},{\"file_path\":\"cli/toolsets/low-complexity/patterns.ts\"},{\"file_path\":\"cli/toolsets/low-complexity/runner.ts\"},{\"file_path\":\"cli/utils/toolManager.ts\"},{\"file_path\":\"packages/db-connect/index.js\"},{\"file_path\":\"packages/db-connect/query.js\"},{\"file_path\":\"packages/db-connect/src/connection.js\"},{\"file_path\":\"packages/db-connect/src/index.js\"},{\"file_path\":\"packages/db-connect/src/migrate-communications.js\"},{\"file_path\":\"packages/db-connect/src/migrate-plan-documents.js\"},{\"file_path\":\"packages/db-connect/src/migrate-plan-impacts.js\"},{\"file_path\":\"packages/db-connect/src/migrate-plans.js\"},{\"file_path\":\"packages/shared-imports/src/api/clearVals.js\"},{\"file_path\":\"packages/shared-imports/src/api/execApps.js\"},{\"file_path\":\"packages/shared-imports/src/api/execCreateDoc.js\"},{\"file_path\":\"packages/shared-imports/src/api/execDml.js\"},{\"file_path\":\"packages/shared-imports/src/api/execDmlWithRefresh.js\"},{\"file_path\":\"packages/shared-imports/src/api/execEvent.js\"},{\"file_path\":\"packages/shared-imports/src/api/execPages.js\"},{\"file_path\":\"packages/shared-imports/src/api/fetchParams.js\"},{\"file_path\":\"packages/shared-imports/src/api/fetchQueryEvents.js\"},{\"file_path\":\"packages/shared-imports/src/api/fetchStudioEventTypes.js\"},{\"file_path\":\"packages/shared-imports/src/api/getDefaultUserEmail.js\"},{\"file_path\":\"packages/shared-imports/src/api/getVal.js\"},{\"file_path\":\"packages/shared-imports/src/api/impactFileLogger.js\"},{\"file_path\":\"packages/shared-imports/src/api/index.js\"},{\"file_path\":\"packages/shared-imports/src/api/logImpact.js\"},{\"file_path\":\"packages/shared-imports/src/api/setVals.js\"},{\"file_path\":\"packages/shared-imports/src/api/userLogin.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/docTypes.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/index.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/analysisTemplate.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/designTemplate.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/guidanceTemplate.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/index.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/planTemplate.js\"},{\"file_path\":\"packages/shared-imports/src/createDocs/templates/requirementsTemplate.js\"},{\"file_path\":\"packages/shared-imports/src/index.js\"},{\"file_path\":\"packages/shared-imports/src/stores/contextStore.js\"},{\"file_path\":\"packages/shared-imports/src/stores/index.js\"},{\"file_path\":\"packages/shared-imports/src/utils/configLoader.js\"},{\"file_path\":\"packages/shared-imports/src/utils/documentMetadata.js\"},{\"file_path\":\"packages/shared-imports/src/utils/eventTypeDiscovery.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/backup.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/directory.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/errors.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/impactTracking.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/index.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/indexWithTracking.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/security.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/validation.js\"},{\"file_path\":\"packages/shared-imports/src/utils/fileOperations/writer.js\"},{\"file_path\":\"packages/shared-imports/src/utils/genPageConfig.js\"},{\"file_path\":\"packages/shared-imports/src/utils/index.js\"},{\"file_path\":\"packages/shared-imports/src/utils/logger.js\"},{\"file_path\":\"packages/shared-imports/src/utils/navigation.js\"},{\"file_path\":\"packages/shared-imports/src/utils/server.js\"},{\"file_path\":\"test-ccflare.ts\"},{\"file_path\":\"types/shim-modules.d.ts\"}]"}},"contentType":"application/json","level":"http","message":"[app.js]  Request","method":"POST","path":"/api/execEventType","timestamp":"2025-11-03 11:14:57"}
{"level":"http","message":"[execEventType.js] POST /api/execEventType","timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[execEventType.js] Fetching eventSQL by id: 27","timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[dbUtils.js] Executing GET query: ********","timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[dbUtils.js] Handling GET-specific logic","timestamp":"2025-11-03 11:14:57"}
{"level":"info","message":"[dbUtils.js] Query executed, rows fetched: 1","timestamp":"2025-11-03 11:14:57"}
{"level":"info","message":"Performance measurement for database_query","performance":{"duration":138.990252,"method":"GET","operation":"database_query","rowCount":1,"success":true},"timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[dbUtils.js] Connection released","timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[execEventType.js] Found eventSQL: spModuleLoad (ID: 27)","timestamp":"2025-11-03 11:14:57"}
{"level":"error","message":"[execEventType.js] EventSQL execution failed for ID 27: No userEmail found in request. Must provide userEmail in body or have valid session.","stack":"Error: No userEmail found in request. Must provide userEmail in body or have valid session.\n    at getUserEmail (file:///home/paul/wf-monorepo-new/apps/server/server/utils/getUserEmail.js:19:11)\n    at execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:63:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-03 11:14:57"}
{"level":"info","message":"[app.js]  Response: POST /api/execEventType 500 (141ms)","timestamp":"2025-11-03 11:14:57"}
{"level":"info","message":"Performance measurement for http_request","performance":{"duration":141.258835,"method":"POST","operation":"http_request","path":"/api/execEventType","status":500},"timestamp":"2025-11-03 11:14:57"}
{"level":"debug","message":"[dbManager.js] Database connected: health check passed","timestamp":"2025-11-03 11:54:54"}
