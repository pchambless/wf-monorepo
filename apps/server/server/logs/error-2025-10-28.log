{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sql":"select id, name, account_id\r\nfrom whatsfresh.ingredient_types\r\nwhere account_id = :account_id","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:61:45)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"level":"error","message":"[dbUtils.js] Query: ********","timestamp":"2025-10-28 08:29:16"}
{"level":"error","message":"[dbUtils.js] Stack trace: Error\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sql":"select id, name, account_id\r\nfrom whatsfresh.ingredient_types\r\nwhere account_id = :account_id","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:61:45)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sql":"select id, name, account_id\r\nfrom whatsfresh.ingredient_types\r\nwhere account_id = :account_id","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:61:45)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"level":"error","message":"[dbUtils.js] Query: ********","timestamp":"2025-10-28 08:29:16"}
{"level":"error","message":"[dbUtils.js] Stack trace: Error\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sql":"select id, name, account_id\r\nfrom whatsfresh.ingredient_types\r\nwhere account_id = :account_id","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':account_id' at line 3\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:61:45)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execEventType (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execEventType.js:118:20)","timestamp":"2025-10-28 08:29:16"}
{"code":"ER_FIELD_SPECIFIED_TWICE","errno":1110,"level":"error","message":"Column 'created_by' specified twice","sql":"INSERT INTO api_wf.plans (name, status, priority, description, comments, assigned_to, created_by, created_at, created_by) VALUES ('CRUD Template Trigger Cleanup & Testing', 'pending', 'high', '# Next Steps - CRUD Template Finalization\n\n## Immediate (Priority: high)\n\n### 1. Update CRUD Template Triggers\n- Remove {pageName} tokens from trigger content\n- Update Grid onChange to add method=UPDATE\n- Simplify Submit execDML to empty object {}\n- Test with ingredient_types page\n\n### 2. Update Existing Page Triggers\n- Fix ingrType page triggers (currently has ingrTypeForm, should be Form)\n- Apply same pattern to all whatsfresh pages\n- Ensure consistent use of comp_name references\n\n### 3. Test Full CRUD Workflow\n- INSERT: AddNew button → Form → Submit\n- UPDATE: Grid select → Form populate → Edit → Submit\n- DELETE: Grid rowActions (if implemented)\n- Verify page_registry auto-lookup works\n\n## Short Term (Priority: medium)\n\n### 4. Component Naming Strategy\n- Document decision: generic names (Grid, Form) vs prefixed (ingrTypeGrid)\n- Consider multi-component pages (multiple grids/forms)\n- Update naming conventions in CLAUDE.md if needed\n\n### 5. React Flow UX Improvements\n- Review tab layout and controls\n- Improve Container visualization\n- Better nested component representation\n\n### 6. Error Handling\n- Add user-friendly error messages for execDML failures\n- Handle missing page_registry data gracefully\n- Validate method/selectedID before execDML\n\n## Future (Priority: low)\n\n### 7. Template Cloning System\n- Design workflow for cloning CRUD template to new pages\n- Auto-populate page_registry on clone\n- Update component references in cloned triggers\n\n### 8. Multi-component Pages\n- Support multiple Grids/Forms on same page\n- Unique naming strategy for complex pages\n- Example: batch mapping page with 3 grids\n\n### 9. DELETE Operation Support\n- Add rowActions to Grid component\n- Implement DELETE method in execDML workflow\n- Add confirmation dialogs', '', '', 'claude', NOW(), 'Paul')","sqlMessage":"Column 'created_by' specified twice","sqlState":"42000","stack":"Error: Column 'created_by' specified twice\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:57:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:110:20)\n    at async execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:24)","timestamp":"2025-10-28 08:45:34"}
{"level":"error","message":"[dbUtils.js] Query: ********","timestamp":"2025-10-28 08:45:34"}
{"level":"error","message":"[dbUtils.js] Stack trace: Error\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:110:20)\n    at async execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:24)","timestamp":"2025-10-28 08:45:34"}
{"category":"database_error","constraint":null,"level":"error","message":"[enhanceErrorResponse] INSERT failed: Database operation failed","timestamp":"2025-10-28 08:45:34"}
{"code":"ER_FIELD_SPECIFIED_TWICE","errno":1110,"level":"error","message":"Column 'created_by' specified twice","sql":"INSERT INTO api_wf.plans (name, status, priority, description, created_by, created_at, created_by) VALUES ('CRUD Template Trigger Cleanup & Testing', 'pending', 'high', '# Next Steps\n\n## Immediate\n1. Update CRUD template triggers\n2. Fix existing page triggers  \n3. Test full CRUD workflow\n\n## Short Term\n4. Component naming strategy\n5. React Flow UX improvements\n6. Error handling\n\n## Future\n7. Template cloning system\n8. Multi-component pages\n9. DELETE operation support', 'claude', NOW(), 'Paul')","sqlMessage":"Column 'created_by' specified twice","sqlState":"42000","stack":"Error: Column 'created_by' specified twice\n    at PromisePoolConnection.execute (/home/paul/wf-monorepo-new/node_modules/mysql2/promise.js:111:22)\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:57:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:110:20)\n    at async execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:24)","timestamp":"2025-10-28 08:45:46"}
{"level":"error","message":"[dbUtils.js] Query: ********","timestamp":"2025-10-28 08:45:46"}
{"level":"error","message":"[dbUtils.js] Stack trace: Error\n    at executeQuery (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dbUtils.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:110:20)\n    at async execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:24)","timestamp":"2025-10-28 08:45:46"}
{"category":"database_error","constraint":null,"level":"error","message":"[enhanceErrorResponse] INSERT failed: Database operation failed","timestamp":"2025-10-28 08:45:46"}
{"code":"MISSING_REQUIRED_FIELDS","level":"error","message":"[execDML.js] DML operation failed: method, table, and data are required","stack":"Error: method, table, and data are required\n    at processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:42:19)\n    at execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:30)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","status":400,"timestamp":"2025-10-28 09:08:25"}
{"code":"MISSING_REQUIRED_FIELDS","level":"error","message":"[execDML.js] DML operation failed: method, table, and data are required","stack":"Error: method, table, and data are required\n    at processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:42:19)\n    at execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:30)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","status":400,"timestamp":"2025-10-28 09:08:25"}
{"code":"INVALID_METHOD","level":"error","message":"[execDML.js] DML operation failed: Method must be INSERT, UPDATE, or DELETE. Got: SELECT","stack":"Error: Method must be INSERT, UPDATE, or DELETE. Got: SELECT\n    at processDML (file:///home/paul/wf-monorepo-new/apps/server/server/utils/dml/dmlProcessor.js:50:19)\n    at execDML (file:///home/paul/wf-monorepo-new/apps/server/server/controller/execDML.js:13:30)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/paul/wf-monorepo-new/node_modules/router/lib/route.js:117:3)\n    at handle (/home/paul/wf-monorepo-new/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/paul/wf-monorepo-new/node_modules/router/lib/layer.js:152:17)\n    at /home/paul/wf-monorepo-new/node_modules/router/index.js:295:15\n    at processParams (/home/paul/wf-monorepo-new/node_modules/router/index.js:582:12)\n    at next (/home/paul/wf-monorepo-new/node_modules/router/index.js:291:5)","status":400,"timestamp":"2025-10-28 09:15:25"}
