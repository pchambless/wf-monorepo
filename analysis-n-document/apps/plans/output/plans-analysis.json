{
  "app": "plans",
  "timestamp": "2025-08-11T18:31:45.079Z",
  "summary": {
    "app": "plans",
    "totalTables": 3,
    "totalFields": 46,
    "totalForeignKeys": 2,
    "analysisModules": [
      "constraints",
      "relationships",
      "validation",
      "dataFlow"
    ]
  },
  "constraints": {
    "constraintMap": {
      "plan_communications": {
        "primaryKey": "id",
        "foreignKeys": [
          {
            "column": "plan_id",
            "refTable": "plans",
            "refColumn": "id"
          }
        ],
        "fieldConstraints": [
          {
            "name": "id",
            "nullable": false,
            "type": "INT UNSIGNED",
            "validationRules": [
              "required",
              "type:number"
            ]
          },
          {
            "name": "plan_id",
            "nullable": false,
            "type": "INT UNSIGNED",
            "validationRules": [
              "required",
              "type:number"
            ]
          },
          {
            "name": "from_agent",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "to_agent",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "type",
            "nullable": false,
            "type": "VARCHAR(30)",
            "validationRules": [
              "required",
              "maxLength:30",
              "type:text"
            ]
          },
          {
            "name": "subject",
            "nullable": false,
            "type": "VARCHAR(255)",
            "validationRules": [
              "required",
              "maxLength:255",
              "type:text"
            ]
          },
          {
            "name": "message",
            "nullable": false,
            "type": "TEXT",
            "validationRules": [
              "required",
              "type:text"
            ]
          },
          {
            "name": "status",
            "nullable": false,
            "type": "VARCHAR(50)",
            "validationRules": [
              "required",
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "created_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "created_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "updated_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "updated_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "deleted_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "deleted_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          }
        ]
      },
      "plan_impacts": {
        "primaryKey": "id",
        "foreignKeys": [
          {
            "column": "plan_id",
            "refTable": "plans",
            "refColumn": "id"
          }
        ],
        "fieldConstraints": [
          {
            "name": "id",
            "nullable": false,
            "type": "INT UNSIGNED",
            "validationRules": [
              "required",
              "type:number"
            ]
          },
          {
            "name": "plan_id",
            "nullable": false,
            "type": "INT UNSIGNED",
            "validationRules": [
              "required",
              "type:number"
            ]
          },
          {
            "name": "file_path",
            "nullable": false,
            "type": "VARCHAR(500)",
            "validationRules": [
              "required",
              "maxLength:500",
              "type:text"
            ]
          },
          {
            "name": "phase",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "change_type",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "status",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "description",
            "nullable": true,
            "type": "TEXT",
            "validationRules": [
              "type:text"
            ]
          },
          {
            "name": "batch_id",
            "nullable": true,
            "type": "VARCHAR(36)",
            "validationRules": [
              "maxLength:36",
              "type:text"
            ]
          },
          {
            "name": "affected_apps",
            "nullable": true,
            "type": "JSON",
            "validationRules": [
              "type:text"
            ]
          },
          {
            "name": "auto_generated",
            "nullable": false,
            "type": "TINYINT(1)",
            "validationRules": [
              "required",
              "type:checkbox"
            ]
          },
          {
            "name": "cross_app_analysis",
            "nullable": true,
            "type": "JSON",
            "validationRules": [
              "type:text"
            ]
          },
          {
            "name": "fileName",
            "nullable": true,
            "type": "VARCHAR(255)",
            "validationRules": [
              "maxLength:255",
              "type:text"
            ]
          },
          {
            "name": "fileFolder",
            "nullable": true,
            "type": "VARCHAR(255)",
            "validationRules": [
              "maxLength:255",
              "type:text"
            ]
          },
          {
            "name": "created_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "created_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "updated_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "updated_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          }
        ]
      },
      "plans": {
        "primaryKey": "id",
        "foreignKeys": [],
        "fieldConstraints": [
          {
            "name": "id",
            "nullable": false,
            "type": "INT UNSIGNED",
            "validationRules": [
              "required",
              "type:number"
            ]
          },
          {
            "name": "cluster",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "name",
            "nullable": false,
            "type": "VARCHAR(255)",
            "validationRules": [
              "required",
              "maxLength:255",
              "type:text"
            ]
          },
          {
            "name": "status",
            "nullable": false,
            "type": "VARCHAR(100)",
            "validationRules": [
              "required",
              "maxLength:100",
              "type:text"
            ]
          },
          {
            "name": "priority",
            "nullable": false,
            "type": "VARCHAR(20)",
            "validationRules": [
              "required",
              "maxLength:20",
              "type:text"
            ]
          },
          {
            "name": "description",
            "nullable": true,
            "type": "TEXT",
            "validationRules": [
              "type:text"
            ]
          },
          {
            "name": "comments",
            "nullable": true,
            "type": "TEXT",
            "validationRules": [
              "type:text"
            ]
          },
          {
            "name": "assigned_to",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "deleted_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "deleted_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "created_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "created_by",
            "nullable": false,
            "type": "VARCHAR(50)",
            "validationRules": [
              "required",
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "updated_at",
            "nullable": true,
            "type": "TIMESTAMP",
            "validationRules": [
              "type:datetime"
            ]
          },
          {
            "name": "updated_by",
            "nullable": true,
            "type": "VARCHAR(50)",
            "validationRules": [
              "maxLength:50",
              "type:text"
            ]
          },
          {
            "name": "active",
            "nullable": true,
            "type": "TINYINT(1) AS ((case when (deleted_at is",
            "validationRules": [
              "type:checkbox"
            ]
          }
        ]
      }
    },
    "dependencyGraph": {
      "plan_communications": [
        {
          "type": "FOREIGN_KEY",
          "dependsOn": "plans",
          "column": "plan_id",
          "referencesColumn": "id"
        }
      ],
      "plan_impacts": [
        {
          "type": "FOREIGN_KEY",
          "dependsOn": "plans",
          "column": "plan_id",
          "referencesColumn": "id"
        }
      ],
      "plans": []
    },
    "circularDependencies": []
  },
  "relationships": {
    "relationships": {
      "plan_communications->plans": {
        "childTable": "plan_communications",
        "parentTable": "plans",
        "childColumn": "plan_id",
        "parentColumn": "id",
        "cardinality": "ONE_TO_MANY"
      },
      "plan_impacts->plans": {
        "childTable": "plan_impacts",
        "parentTable": "plans",
        "childColumn": "plan_id",
        "parentColumn": "id",
        "cardinality": "ONE_TO_MANY"
      }
    },
    "relationshipChains": {
      "plans": {
        "table": "plans",
        "children": [
          {
            "table": "plan_communications",
            "column": "plan_id",
            "cardinality": "ONE_TO_MANY"
          },
          {
            "table": "plan_impacts",
            "column": "plan_id",
            "cardinality": "ONE_TO_MANY"
          }
        ],
        "depth": 0
      }
    },
    "tableHierarchy": {
      "roots": [
        {
          "table": "plans",
          "type": "ROOT"
        }
      ],
      "leaves": [
        "plan_communications",
        "plan_impacts"
      ],
      "intermediates": []
    }
  },
  "validation": {
    "isValid": true,
    "errors": [],
    "warnings": [
      {
        "type": "NAMING_CONVENTION",
        "table": "plan_impacts",
        "field": "fileName",
        "message": "Field fileName doesn't follow snake_case convention"
      },
      {
        "type": "NAMING_CONVENTION",
        "table": "plan_impacts",
        "field": "fileFolder",
        "message": "Field fileFolder doesn't follow snake_case convention"
      }
    ],
    "errorCount": 0,
    "warningCount": 2
  },
  "dataFlow": {
    "flowPaths": {
      "plan_communications": [
        {
          "path": [
            "plan_communications"
          ],
          "circular": false
        }
      ],
      "plan_impacts": [
        {
          "path": [
            "plan_impacts"
          ],
          "circular": false
        }
      ],
      "plans": [
        {
          "path": [
            "plans",
            "plan_communications"
          ],
          "circular": false
        },
        {
          "path": [
            "plans",
            "plan_impacts"
          ],
          "circular": false
        }
      ]
    },
    "criticalPaths": [
      {
        "table": "plans",
        "dependentCount": 2,
        "maxPathLength": 2,
        "criticality": 7
      }
    ],
    "cascadeEffects": {
      "plans": {
        "table": "plans",
        "directChildren": [
          {
            "table": "plan_communications",
            "column": "plan_id",
            "cardinality": "ONE_TO_MANY"
          },
          {
            "table": "plan_impacts",
            "column": "plan_id",
            "cardinality": "ONE_TO_MANY"
          }
        ],
        "cascadeChain": [
          "plans",
          "plan_communications",
          "plan_impacts"
        ],
        "riskLevel": "MEDIUM"
      }
    },
    "summary": {
      "totalTables": 3,
      "criticalTables": 1,
      "highRiskCascades": 0
    }
  },
  "insights": [
    {
      "type": "INFO",
      "category": "ARCHITECTURE",
      "message": "Analysis completed for plans app domain",
      "priority": "LOW"
    }
  ]
}